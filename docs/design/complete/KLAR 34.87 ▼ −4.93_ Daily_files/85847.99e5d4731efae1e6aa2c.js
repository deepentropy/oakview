(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[85847],{648919:e=>{e.exports={"common-tooltip":"common-tooltip-EJBD96zX","common-tooltip--hidden":"common-tooltip--hidden-EJBD96zX","common-tooltip--horizontal":"common-tooltip--horizontal-EJBD96zX","common-tooltip--farther":"common-tooltip--farther-EJBD96zX","common-tooltip--vertical":"common-tooltip--vertical-EJBD96zX","common-tooltip-farther":"common-tooltip-farther-EJBD96zX","common-tooltip--direction_normal":"common-tooltip--direction_normal-EJBD96zX","common-tooltip__body":"common-tooltip__body-EJBD96zX","common-tooltip__button-container":"common-tooltip__button-container-EJBD96zX","common-tooltip__body--no-buttons":"common-tooltip__body--no-buttons-EJBD96zX","common-tooltip__button":"common-tooltip__button-EJBD96zX","common-tooltip--direction_reversed":"common-tooltip--direction_reversed-EJBD96zX","common-tooltip__ear-holder":"common-tooltip__ear-holder-EJBD96zX","common-tooltip__ear-holder--below":"common-tooltip__ear-holder--below-EJBD96zX","common-tooltip__ear-holder--above":"common-tooltip__ear-holder--above-EJBD96zX","common-tooltip__ear-holder--before":"common-tooltip__ear-holder--before-EJBD96zX","common-tooltip__ear-holder--after":"common-tooltip__ear-holder--after-EJBD96zX","common-tooltip__body--with-hotkey":"common-tooltip__body--with-hotkey-EJBD96zX","common-tooltip__body--width_wide":"common-tooltip__body--width_wide-EJBD96zX","common-tooltip__body--width_narrow":"common-tooltip__body--width_narrow-EJBD96zX","common-tooltip__body--no-padding":"common-tooltip__body--no-padding-EJBD96zX","common-tooltip__hotkey-block":"common-tooltip__hotkey-block-EJBD96zX","common-tooltip__hotkey-block--divider":"common-tooltip__hotkey-block--divider-EJBD96zX","common-tooltip__hotkey-text":"common-tooltip__hotkey-text-EJBD96zX","common-tooltip__hotkey-button":"common-tooltip__hotkey-button-EJBD96zX","common-tooltip__plus-sign":"common-tooltip__plus-sign-EJBD96zX"}},207639:(e,t,o)=>{"use strict";function n(e,...t){return e&&"object"==typeof e?(0===t.length||t.forEach((t=>{null!=t&&"object"==typeof t&&Object.keys(t).forEach((o=>{const r=e[o],s=t[o];if(s===e)return;const a=Array.isArray(s);if(s&&(i(s)||a)){let t;t=a?r&&Array.isArray(r)?r:[]:r&&i(r)?r:{},e[o]=n(t,s)}else void 0!==s&&(e[o]=s)}))})),e):e}function i(e){if(!e||"[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);if(!t)return!0;const o=Object.hasOwnProperty.toString,n=t.hasOwnProperty("constructor")&&t.constructor;return"function"==typeof n&&o.call(n)===o.call(Object)}o.d(t,{deepExtend:()=>n})},900608:(e,t,o)=>{"use strict";o.d(t,{guid:()=>r,randomHash:()=>s,randomHashN:()=>a});const n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function r(){return n.replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function s(){return a(12)}function a(e){let t="";for(let o=0;o<e;++o){const e=Math.floor(Math.random()*i.length);t+=i[e]}return t}},764250:(e,t,o)=>{
"use strict";o.d(t,{ActionGroup:()=>i});class n{constructor(e,t){this._group=e;const{hotkey:o,handler:n,desc:i,isDisabled:r,element:s=null,isRepeatAccepted:a=!1}=t;this.hotkey=o,this.handler=n,this.desc=i,this.element=s,this.isRepeatAccepted=a,this.isDisabled=r?"function"==typeof r?r:()=>!0:()=>!1}destroy(){this._group&&(this._group.remove(this),this._group=null)}}class i{constructor(e,t){this._actions=new Map,this._manager=e,this.order=t?.order??0,this.modal=!(!t||!t.modal),t&&(this.desc=t.desc),t&&t.isDisabled?"function"==typeof t.isDisabled?this.isDisabled=t.isDisabled:this.isDisabled=()=>!0:this.isDisabled=()=>!1,this._manager.registerGroup(this)}add(e){let t=this._actions.get(e.hotkey);t||(t=[],this._actions.set(e.hotkey,t));const o=new n(this,e);return t.push(o),o}remove(e){const t=this._actions.get(e.hotkey);if(!t)return;const o=t.findIndex((t=>t===e));o>=0&&(1===t.length?this._actions.delete(e.hotkey):t.splice(o,1))}handleHotkey(e,t){const o=this._actions.get(e);if(!o)return!1;for(const n of o)if((!n.element||t.target&&n.element.contains(t.target))&&!n.isDisabled(t))return t.repeat&&!n.isRepeatAccepted||(n.handler(t),this._callMatchedHotkeyHandler(e)),t.preventDefault(),!0;return!1}promote(){this._manager.promoteGroup(this)}destroy(){for(const[,e]of this._actions)for(const t of e)t.destroy();this._actions.clear(),this._manager.unregisterGroup(this)}static setMatchedHotkeyHandler(e){i._matchedHotkeyHandler=e}_callMatchedHotkeyHandler(e){i._matchedHotkeyHandler&&i._matchedHotkeyHandler(e)}}},233346:(e,t,o)=>{"use strict";o.d(t,{createGroup:()=>h,keyboardPressedKeysState:()=>m,pressedKeys:()=>u,registerWindow:()=>p});var n=o(158942),i=o(591800),r=o(607423);class s{constructor(e,t){this.modifiers=e,this.code=t}altOrOptionCode(){return"AltLeft"===this.code||"AltRight"===this.code}controlOrMetaCode(){return i.isMacKeyboard?"MetaLeft"===this.code||"MetaRight"===this.code||"OSLeft"===this.code||"OSRight"===this.code:"ControlLeft"===this.code||"ControlRight"===this.code}}class a extends n.WatchedValue{setValue(e,t){const o=this.value();(t||void 0===o||o.code!==e.code||o.modifiers!==e.modifiers)&&super.setValue(e)}}function c(e,t){return e.order+(e.modal?t:0)}var l=o(764250);const d=new class{constructor(){this._groups=[],this._pressedKeys=new n.WatchedValue(0),this._keyboardPressedKeysState=new a(new s(0)),this._keyDownListener=e=>{if(e.defaultPrevented)return;const t=(0,i.hashFromEvent)(e);if(this._pressedKeys.setValue(t),this._keyboardPressedKeysState.setValue(new s((0,i.modifiersFromEvent)(e),e.code)),!(0,r.isNativeUIInteraction)(t,e.target))for(let o=this._groups.length;o-- >0;){const n=this._groups[o];if(!n.isDisabled()){if(n.handleHotkey(t,e))return;if(n.modal)return}}},this._keyUpListener=e=>{const t=(0,i.hashFromEvent)(e);this._pressedKeys.setValue(t),this._keyboardPressedKeysState.setValue(new s((0,i.modifiersFromEvent)(e),""))},this._blurEvent=()=>{this._pressedKeys.setValue(0),this._keyboardPressedKeysState.setValue(new s(0,""))},this._mouseEvent=e=>{const t=(0,
i.modifiersFromEvent)(e),o=255&(this._pressedKeys.value()??0);this._pressedKeys.setValue(t|o)}}listen(e){e.addEventListener("keydown",this._keyDownListener),e.addEventListener("keyup",this._keyUpListener),e.addEventListener("blur",this._blurEvent),e.addEventListener("mousemove",this._mouseEvent)}unlisten(e){e.removeEventListener("keydown",this._keyDownListener),e.removeEventListener("keyup",this._keyUpListener),e.removeEventListener("blur",this._blurEvent),e.removeEventListener("mousemove",this._mouseEvent)}registerGroup(e){this._groups.push(e),this.sortGroups()}unregisterGroup(e){for(let t=this._groups.length;t--;)this._groups[t]===e&&this._groups.splice(t,1)}promoteGroup(e){const t=this._getModalOrderEpoch(),o=c(e,t);let n=this._groups.findIndex((e=>c(e,t)===o)),i=0;for(;n<this._groups.length&&c(this._groups[n],t)===o;){const r=this._groups[n];r===e?i=1:c(r,t)===o&&(this._groups[n-i]=r),n++}this._groups[n-i]=e}pressedKeys(){return this._pressedKeys.readonly()}keyboardPressedKeysState(){return this._keyboardPressedKeysState.readonly()}sortGroups(){const e=this._getModalOrderEpoch();this._groups.sort(((t,o)=>c(o,e)-c(t,e)))}_getMinOrder(){return this._groups.reduce(((e,t)=>Math.min(e,t.order)),0)}_getModalOrderEpoch(){return-2*(Math.abs(this._getMinOrder())-1)}},u=d.pressedKeys(),m=d.keyboardPressedKeysState();function h(e){return new l.ActionGroup(d,e)}function p(e){d.listen(e)}},607423:(e,t,o)=>{"use strict";o.d(t,{isNativeUIInteraction:()=>r,isTextEditingField:()=>i});var n=o(591800);function i(e){if("INPUT"===e.tagName){const t=e.type;return"text"===t||"email"===t||"number"===t||"password"===t||"search"===t||"tel"===t||"url"===t}return"TEXTAREA"===e.tagName||e.isContentEditable}function r(e,t){if(!t)return!1;const o=255&e;if(27===o||o>>>4==7)return!1;switch(e^o){case n.Modifiers.Alt:return(38===o||40===o)&&"SELECT"===t.tagName||i(t);case n.Modifiers.Alt+n.Modifiers.Shift:return i(t);case n.Modifiers.Mod:if(67===o||!n.isMacKeyboard&&45===o){const e=t.ownerDocument&&t.ownerDocument.getSelection();if(e&&!e.isCollapsed)return!0}return i(t);case n.Modifiers.Mod+n.Modifiers.Shift:return o>=33&&o<=40&&i(t);case n.Modifiers.Shift:case 0:return 9===o?!(!t.ownerDocument||t===t.ownerDocument.body||t===t.ownerDocument.documentElement):(!function(e){if("BUTTON"===e.tagName)return!0;if("INPUT"===e.tagName){const t=e.type;if("submit"===t||"button"===t||"reset"===t||"checkbox"===t||"radio"===t)return!0}return!1}(t)||13===o||32===o||9===o)&&("form"in t||t.isContentEditable)}return!1}},593110:(e,t,o)=>{"use strict";o.d(t,{FOCUS_TRAP_DATA_ATTRIBUTE:()=>n});const n="data-focus-trap"},889144:(e,t,o)=>{"use strict";o.d(t,{getFirstFocusableDescendant:()=>a,getLastFocusableDescendant:()=>c,getNextFocusable:()=>s});var n=o(355734),i=o(873509);const r=(e=document.documentElement)=>(0,i.getSelectorTreeWalker)(e,n.FOCUSABLE_SELECTOR);function s(e,t){const o=r(t);return o.currentNode=e,o.nextNode()}function a(e){const t=r(e);return(0,i.getFirstDescendant)(t)}function c(e){const t=r(e);return(0,i.getLastDescendant)(t)}},355734:(e,t,o)=>{
"use strict";o.d(t,{FOCUSABLE_SELECTOR:()=>i,createScopedVisibleElementFilter:()=>d,getActiveElementSelectors:()=>l,isHTMLOrSVGElement:()=>u,isInertRoot:()=>a,isVisibilityVisible:()=>r});const n=["button","fieldset","optgroup","option","select","textarea","input"],i=["button","input","select","textarea","a[href]","audio[controls]","video[controls]",'[tabindex="0"]','[contenteditable="true"]'].map((e=>n.includes(e)?`${e}:not(:disabled)`:e)).map((e=>`${e}:not([tabindex="-1"])`)).join(",");function r(e){return"visible"===getComputedStyle(e).visibility}function s(e,t){if(e.matches("[inert],[inert] *"))return!0;let o=e;for(;o!==t&&null!==o;){if(c(o))return!0;o=o.parentElement}return!1}function a(e){return e.matches("[inert]")||c(e)}function c(e){return"none"===getComputedStyle(e).display}function l(){return i}function d(e){return t=>r(t)&&!s(t,e)}function u(e){return e instanceof HTMLElement||e instanceof SVGElement}},184277:(e,t,o)=>{"use strict";function n(e){return 0===e.detail}o.d(t,{isKeyboardClick:()=>n})},873509:(e,t,o)=>{"use strict";o.d(t,{getFirstDescendant:()=>r,getLastDescendant:()=>s,getPreviousNonParent:()=>a,getSelectorTreeWalker:()=>i});var n=o(355734);const i=(e=document.documentElement,t)=>document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,(e=>t=>{if(1!==t.nodeType)return NodeFilter.FILTER_SKIP;const o=t;return(0,n.isInertRoot)(o)?NodeFilter.FILTER_REJECT:(0,n.isVisibilityVisible)(o)&&o.matches(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP})(t));function r(e){return e.currentNode=e.root,e.nextNode()}function s(e){for(e.currentNode=e.root;null!==e.lastChild(););return e.currentNode===e.root?null:e.currentNode}function a(e){const t=e.currentNode;let o=e.previousNode();for(;o&&o.contains(t);)o=e.previousNode();return o}},927301:(e,t,o)=>{"use strict";o.r(t),o.d(t,{capitalizeFirstLetterInWord:()=>p,decodeHTMLEntities:()=>l,encodeHTMLEntities:()=>d,getFirstSegmentOrCodePointString:()=>f,htmlEscape:()=>u,removeSpaces:()=>h,removeTags:()=>m});const n=/[<"'&>]/g,i=e=>`&#${e.charCodeAt(0)};`,r={"&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'","&amp;":"&","&#60;":"<","&#62;":">","&#34;":'"',"&#39;":"'","&#039;":"'","&#38;":"&"},s=Object.assign({},...Object.entries(r).map((([e,t])=>({[t]:e})))),a=new RegExp(Object.keys(r).join("|"),"g"),c=new RegExp(Object.keys(s).join("|"),"g");function l(e){return e.replace(a,(e=>r[e]||e))}function d(e){return e.replace(c,(e=>s[e]||e))}function u(e){return e.replace(n,i)}function m(e=""){return e.replace(/(<([^>]+)>)/gi,"")}function h(e=""){return e.replace(/\s+/g,"")}function p(e=""){return e.replace(/\b\w/g,(e=>e.toUpperCase()))}function f(e){const t=Intl.Segmenter;if(t){const o=new t(void 0,{granularity:"grapheme"}),[{segment:n}={segment:null}]=o.segment(e);return n?.toUpperCase()??null}{const t=e.codePointAt(0);return t?String.fromCodePoint(t).toUpperCase():null}}},499994:(e,t,o)=>{"use strict";o.d(t,{getTooltipData:()=>i,setTooltipData:()=>r});const n=new WeakMap;function i(e,t){const o=n.get(e);return o instanceof Function?o(t):o&&o[t]}function r(e,t,o){
if(o instanceof Function)return void n.set(e,o);const i=n.get(e),r=void 0===i||i instanceof Function?{}:i;r[t]=o,n.set(e,r)}},604286:(e,t,o)=>{"use strict";o.d(t,{hotKeyDeserialize:()=>r,hotKeySerialize:()=>i});var n=o(927301);function i(e){return(0,n.htmlEscape)(JSON.stringify(e))}function r(e){return JSON.parse((0,n.decodeHTMLEntities)(e))}},309103:(e,t,o)=>{"use strict";o.r(t),o.d(t,{hide:()=>Y,show:()=>K,showOnElement:()=>W,tempForceHide:()=>q,tooltipClickHandler:()=>J,updateTooltipText:()=>j});var n=o(778785),i=o(650151),r=o(799786);let s=0,a=0,c=0;function l(){clearTimeout(s),clearTimeout(a),clearTimeout(c)}function d(e,t){s=setTimeout(e,t)}const u="tooltip-root-element";let m;function h(){const e=document.getElementById(u);e?m=e:(m=document.createElement("div"),m.id=u,document.body.appendChild(m))}function p(){m&&(m.innerHTML="")}function f(e){p(),m||h(),m.appendChild(e)}"interactive"===document.readyState?h():document.addEventListener("DOMContentLoaded",h);var w=o(877162),g=o(680574),_=(o(7742),o(859457)),v=o(462140),y=o(638456);const b={default:"",white:"theme-white",chart:"theme-chart",news:"theme-news","round-shadow":"theme-round-shadow"},E=Object.keys(b);var L=o(499994),S=o(604286),k=o(648919);function T(e){const t=e.hasAttribute("data-tooltip")?e.getAttribute("data-tooltip"):e.getAttribute("title");return t&&((0,L.setTooltipData)(e,"text",t),e.removeAttribute("title")),(0,L.getTooltipData)(e,"text")||""}function C(e){const t=(0,i.ensureNotNull)(P).cloneNode(!0),o=B(t),{content:n}=e;switch(n.type){case"element":o.innerHTML="",o.appendChild(n.data);break;case"html":o.innerHTML=n.data;break;case"text":if(e.hotkey){const e=(0,i.ensureNotNull)(I).cloneNode(!0);e.innerText=n.data,o.appendChild(e)}else o.innerText=n.data}if(e.hotkey){const t="none"!==n.type,r=(0,i.ensureNotNull)(V).cloneNode(!0),s=(0,S.hotKeyDeserialize)(e.hotkey),a=s.keys.map((e=>`<span class="${k["common-tooltip__hotkey-button"]}">${e}</span>`));r.innerHTML=function(e,t){const o=/{\d}|{hotkey_\d}/gi;return e.replace(o,(e=>{const o=Number(e.match(/\d/));return t[o]}))}(s.text,a).replace(/\s\+\s/g,`<span class="${k["common-tooltip__plus-sign"]}">+</span>`),o.classList.add(k["common-tooltip__body--with-hotkey"]),t&&r.classList.add(k["common-tooltip__hotkey-block--divider"]),o.appendChild(r)}return t.addEventListener("contextmenu",_.preventDefault),t}function D(e,t){const o=t.rect;if(!o)return;!function(e,t){const o=E.includes(t)?b[t]:"";e.classList.remove(...E.map((e=>b[e])).filter((e=>!!e))),o&&!e.classList.contains(o)&&e.classList.add(o)}(e,t.colorTheme||"default");const n=B(e),i=e.querySelector(`.${k["common-tooltip__button-container"]}`);t.addClass&&e.classList.add(t.addClass),t.addBodyClass&&n.classList.add(t.addBodyClass),n.classList.toggle(k["common-tooltip__body--width_wide"],Boolean(t.wide)),n.classList.toggle(k["common-tooltip__body--no-padding"],Boolean(t.noPadding)),n.classList.toggle(k["common-tooltip__body--width_narrow"],Boolean(t.narrow)),n.classList.toggle(k["common-tooltip__body--no-buttons"],!0),n.style.left=O(0),
n.style.width=O(n.clientWidth+(Boolean(t.noPadding)?0:2));const r=document.body.clientWidth,s=y.CheckMobile.iOS()||y.CheckMobile.Android()||(0,y.supportTouch)()&&(0,y.isMac)()?window.innerHeight:document.body.clientHeight,a=t.vertical,c=t.extendMargin||a&&o.w<20||!a&&o.h<20;e.classList.toggle(k["common-tooltip--farther"],c),e.classList.toggle(k["common-tooltip--vertical"],a),e.classList.toggle(k["common-tooltip--horizontal"],!a);const l=function(e){return e.querySelector(`.${k["common-tooltip__ear-holder"]}`)}(e),d=e.offsetHeight;if(a){const a=10,c=s-10,u=12,m=a+u,h=c-u,p=(0,v.clamp)(o.y+o.h/2,m,h)-d/2,f=p+d;e.style.left=O(o.x+o.w),e.style.top=O(p),p<a?n.style.top=i.style.top=O(a-p):f>c&&(n.style.top=i.style.top=O(c-f));const{right:w}=(e.querySelector(":last-child")||n).getBoundingClientRect(),_=w+10>r;e.classList.toggle(k["common-tooltip--direction_reversed"],_),e.classList.toggle(k["common-tooltip--direction_normal"],!_);let y=_?"after":"before";(0,g.isRtl)()?(y=t.otr?"after":y,y=t.otl?"before":y):(y=t.otr?"before":y,y=t.otl?"after":y),l.classList.toggle(k["common-tooltip__ear-holder--before"],"before"===y),l.classList.toggle(k["common-tooltip__ear-holder--after"],"after"===y),"after"===y&&(e.style.left="auto",e.style.right=O(r-o.x))}else{const a=o.x-(n.offsetWidth-o.w)/2,c=r-e.offsetWidth-20<=0?(r-e.offsetWidth)/2:10,u=r-c-e.offsetWidth,m=Math.max(c,Math.min(a,u));e.style.left=O(m);const h=u<a;e.classList.toggle(k["common-tooltip--direction_reversed"],h),e.classList.toggle(k["common-tooltip--direction_normal"],!h);const p=function(e,t,o,n){if(e.above)return H(t,n)?"above":"below";if(e.below)return function(e,t,o){return o.y+o.h+t+10<e}(t,o,n)?"below":"above";return H(o,n)?"above":"below"}(t,s,d,o);"above"===p?e.style.bottom=O(s-o.y):e.style.top=O(o.y+o.h),l.classList.add("above"===p?k["common-tooltip__ear-holder--above"]:k["common-tooltip__ear-holder--below"]);const{left:f}=n.getBoundingClientRect();let w=Math.trunc(o.x+o.w/2-(f+n.clientWidth/2));e.style.left=O(m+w),e.style.width=O(n.clientWidth+i.clientWidth),w=h?Math.max(0,w):Math.min(0,w),i.style.left=O(-w),n.style.left=O(-w)}}function N(e){e.classList.toggle(k["common-tooltip--hidden"],!0)}function O(e){return`${Math.floor(e)}px`}const x=`\n\t<div id="common-tooltip-wrapper" class="${k["common-tooltip"]}">\n\t\t<div class="${k["common-tooltip__ear-holder"]}" >\n\t\t\t<div class="${k["common-tooltip__body"]} js-tooltip-body"></div>\n\t\t</div>\n\t\t<div class="${k["common-tooltip__button-container"]}"></div>\n\t</div>\n`,M=`\n\t<div class="${k["common-tooltip__hotkey-block"]}"></div>\n`,A=`\n\t<div class="${k["common-tooltip__hotkey-text"]}"></div>\n`,P=(0,w.parseHtmlElement)(x),V=(0,w.parseHtmlElement)(M),I=(0,w.parseHtmlElement)(A);function B(e){return e.querySelector(`.${k["common-tooltip__body"]}`)}function H(e,t){return 10+e<t.y}let U=!1,F=null,$=null;n.mobiletouch||(document.addEventListener("mouseover",X,!0),document.addEventListener("focus",(function(e){const t=e.target
;if(!(t instanceof HTMLElement&&t.closest('[data-tooltip-show-on-focus="true"]')&&t.matches(":focus-visible")))return;X(e,!0)}),{capture:!0}),document.addEventListener("active-descendant-focus",(function(e){e.target instanceof HTMLElement&&X(e,!0)}),{capture:!0}));const R=new MutationObserver((()=>{if(F&&F.options.target){let e;e="isConnected"in F.options.target?F.options.target.isConnected:document.body.contains(F.options.target),e||Y()}})),W=(e,t={})=>{const{content:o,...n}=ee(t),i=function(e){const t=T(e),o=e.getBoundingClientRect(),n={h:o.height,w:o.width,x:o.left,y:o.top},i=e.getAttribute("data-color-theme")||"",r=e.classList.contains("common-tooltip-html"),s=parseInt(e.getAttribute("data-tooltip-delay")||""),a=parseInt(e.getAttribute("data-tooltip-debounce")||"");let c={type:"none"};return t&&(c={type:r?"html":"text",data:t}),{above:e.classList.contains("common-tooltip-above"),below:e.classList.contains("common-tooltip-below"),otl:e.classList.contains("common-tooltip-otl"),otr:e.classList.contains("common-tooltip-otr"),vertical:e.classList.contains("common-tooltip-vertical"),hotkey:e.getAttribute("data-tooltip-hotkey"),narrow:e.classList.contains("common-tooltip-narrow"),wide:e.classList.contains("common-tooltip-wide"),colorTheme:i,tooltipDelay:s,tooltipDebounce:a,rect:n,content:c,target:e}}(e),r=Object.assign(i,n);return"none"!==o.type&&(r.content=o),!("none"===r.content.type&&!r.hotkey)&&(r.target=e,K(r),!0)},K=e=>{const t=ee(e),o=C(t);if(F={options:t,element:o},f(o),l(),!U)return N(o),void d((()=>Q(o)),function(e){return"number"!=typeof e.tooltipDelay||isNaN(e.tooltipDelay)?500:e.tooltipDelay}(t));const{tooltipDebounce:n}=e;"number"!=typeof n||isNaN(n)?Q(o):d((()=>Q(o)),n)},j=e=>T(e);function X(e,t){if("sourceCapabilities"in e&&e.sourceCapabilities?.firesTouchEvents)return;const o=function(e,t,o){const n=[];for(;e&&e!==t;)e.classList&&e.classList.contains(o)&&n.push(e),e=e.parentElement||Z(e.parentNode);return n}(e.target,e.currentTarget,"apply-common-tooltip");for(const n of o){if(e instanceof MouseEvent)if("buttons"in e){if(1&e.buttons)continue}else if(1===e.which)continue;const o=()=>W(n);if(o()){const e=e=>i(null,!0),i=(r,s=!1)=>{n.removeEventListener("common-tooltip-update",o),n.removeEventListener("mouseleave",i),n.removeEventListener("mousedown",i),document.removeEventListener("scroll",e,{capture:!0}),t&&(n.removeEventListener("blur",i),n.removeEventListener("active-descendant-blur",i)),$&&($.destroy(),$=null),Y(s)};n.addEventListener("common-tooltip-update",o),n.addEventListener("mouseleave",i),n.addEventListener("mousedown",i),document.addEventListener("scroll",e,{capture:!0}),t&&(n.addEventListener("blur",i),n.addEventListener("active-descendant-blur",i)),null===$&&($=(0,r.createGroup)({desc:"Tooltip"}),$.add({desc:"Hide",hotkey:27,handler:i}));break}}}function J(e){n.mobiletouch&&(W(e.currentTarget,{tooltipDelay:0}),document.addEventListener("scroll",z),document.addEventListener("touchstart",z),window.addEventListener("orientationchange",z),window.screen.orientation?.addEventListener("change",z))}
function z(){document.removeEventListener("scroll",z),document.removeEventListener("touchstart",z),window.removeEventListener("orientationchange",z),window.screen.orientation?.removeEventListener("change",z),Y()}function G(){p(),U=!1,F=null}const q=()=>{if(l(),(0,i.ensureNotNull)(R).disconnect(),!F||!U)return;const{element:e}=F;N(e),G()},Y=(e,t)=>{if(l(),(0,i.ensureNotNull)(R).disconnect(),!F)return;if(!e&&!U)return;const{element:o,options:n}=F,r=()=>{o.removeEventListener("mouseleave",r),N(o),e?G():c=setTimeout((()=>{G()}),250),t?.()};var s,d;n.tooltipHideDelay?(s=()=>{o.querySelector(":hover")?o.addEventListener("mouseleave",r):r()},d=n.tooltipHideDelay,a=setTimeout(s,d)):r()};function Q(e){const{options:t}=(0,i.ensureNotNull)(F);if(D(e,t),function(e){e.classList.toggle(k["common-tooltip--hidden"],!1)}(e),(0,i.ensureNotNull)(R).observe(document,{childList:!0,subtree:!0}),U=!0,t.forceHideOnMove){const e=()=>{document.removeEventListener("mousemove",e),document.removeEventListener("touchmove",e),Y()};document.addEventListener("mousemove",e),document.addEventListener("touchmove",e)}}function Z(e){return e&&(e.nodeType===Node.ELEMENT_NODE?e:null)}function ee(e){if(function(e){return"content"in e}(e))return e;const{inner:t,html:o,text:n,...i}=e;let r={type:"none"};return t&&(r={type:"element",data:t}),n&&(r={type:o?"html":"text",data:n}),{content:r,...i}}},384295:(e,t,o)=>{"use strict";o.d(t,{CmEvent:()=>n,trackCmEvent:()=>s});var n,i=o(719718);!function(e){e.PageView="visit",e.RegistrationCompleted="signup",e.TrialSignUp="trial",e.PaidPlanAcquired="psub"}(n||(n={}));const r=(e,t)=>`https://ad.doubleclick.net/ddm/activity/src=13919399;type=${e===n.PaidPlanAcquired?"wsales":"wcount"};cat=${e};${t?`cost=${t};`:""}u27=${function(e="_sp_"){const t=new RegExp(e+"id\\.[a-f0-9]+=([^;]+);?"),o=document.cookie.match(t);return o&&o[1]?o[1].split(".")[0]:""}()};u28=${window.user.id};dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;ord=${1e3*Math.random()}?`;function s(e,t){(0,i.createImage)(r(e,t))}},641261:(e,t,o)=>{"use strict";o.d(t,{GTagEvent:()=>m,trackGTagAdsEvent:()=>h});var n=o(251954),i=o(261030),r=o(314802),s=o(638456),a=o(588948),c=o(691805),l=o(719718);const d=()=>`https://www.googletagmanager.com/gtag/js?id=${(0,a.getInitData)().gadwId}`;let u=!1;var m;function h(e,t={}){if(u||!(0,l.adwordsAnalyticsEnabled)()||(0,r.isOnMobileAppPage)("any")||s.CheckMobile.iOS()||(0,s.isSymphonyEmbed)()||((0,a.updateInitData)(),(0,a.getInitData)().gadwId&&(u=!0,(0,c.appendScript)(d()),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("consent","default",{ad_storage:(0,i.getCookieSetting)(i.CookieSettings.Advertising)?"granted":"denied"}),window.gtag("config",(0,a.getInitData)().gadwId),n.subscribe(i.cookieSettingsChangeEvent,((e,t)=>{e===i.CookieSettings.Advertising&&window.gtag("consent","update",{ad_storage:t?"granted":"denied"})}),null))),!u)return;const o=(0,a.getInitData)().gadwId;window.gtag("event","conversion",{send_to:`${o}/${e}`,
user_id:window.user.id,...t})}!function(e){e.PageView="kwnRCP6AwqsBEOTvvuED",e.TrialSignUp="6_gCCOyejsACEK3sq6gB",e.RegistrationCompleted="JzYhCIOr578CEK3sq6gB",e.PaidPlanAcquired="ca8iCNrG578CEK3sq6gB"}(m||(m={}))},62374:(e,t,o)=>{"use strict";o.d(t,{evercookie:()=>i});o(824293);var n=o(66974);const i=new window.evercookie({domain:(0,n.isProd)()?".tradingview.com":location.hostname,lso:!1})},799786:(e,t,o)=>{"use strict";o.d(t,{Modifiers:()=>r.Modifiers,createGroup:()=>n.createGroup,keyboardPressedKeysState:()=>n.keyboardPressedKeysState,pressedKeys:()=>n.pressedKeys});var n=o(233346),i=o(764250),r=o(591800),s=o(345848);(0,n.registerWindow)(window),i.ActionGroup.setMatchedHotkeyHandler((e=>{(0,s.trackEvent)("Keyboard Shortcuts",(0,r.humanReadableHash)(e))}))},345848:(e,t,o)=>{"use strict";o.d(t,{disableTrackingEvents:()=>a,trackEvent:()=>s});o(251954);var n=o(687037);const i=(0,o(735566).getLogger)("Common.TrackEvent");let r=!1;const s=(e,t,o)=>{if(r)return;let s=(e?e+":":"")+t;o&&(s+=" "+o),i.logNormal(s),n.enabled("widget")||!window._UNIT_TESTS&&window.gtag&&window.gtag("event",t,{event_category:e,event_label:o})};function a(){r=!0}},226722:(e,t,o)=>{"use strict";o.d(t,{TVXWindowEvents:()=>s,getScopedTVXWindowEvents:()=>a});o(7742);var n=o(735566),i=o(49437);const r=(0,n.getLogger)("XWindowEvents");var s;function a(e){return{on:(t,o)=>s.on(`${e}.${t}`,o),off:(t,o)=>s.off(`${e}.${t}`,o),emit:(t,o)=>s.emit(`${e}.${t}`,o)}}!function(e){const t="tvxwevents.",o={};let n;window.BroadcastChannel?(n=new BroadcastChannel("tvxwevents"),n.addEventListener("message",(function(e){const{data:{event:t,value:n}}=e;o[t]&&o[t].forEach((e=>{e(n)}))})),function(){const e=[],o=performance.now();for(let o=0;o<i.TVLocalStorage.length;o++){const n=i.TVLocalStorage.key(o);n.startsWith(t)&&e.push(n)}const n=i.TVLocalStorage.length;for(const t of e)i.TVLocalStorage.removeItem(t);const s=performance.now()-o;r.logNormal(`Total keys amount in local storage on operation start: ${n}`),r.logNormal(`Keys amount in local storage to be deleted: ${e.length}`),r.logNormal(`Keys to be deleted from local storage: ${JSON.stringify(e)}`),r.logNormal(`Removing keys from local storage took ${s} ms`)}()):window.addEventListener("storage",(function(e){const{newValue:n,key:r}=e;if(null===n||!r||!r.startsWith(t))return;const s=r.substring(11);o[s]&&o[s].forEach((t=>{t(e.newValue)}));i.TVLocalStorage.removeItem(r)})),e.on=function(e,t){o[e]||(o[e]=[]),o[e].push(t)},e.off=function(e,t){if(!o[e])return;const n=o[e].indexOf(t);-1!==n&&(1===o[e].length?delete o[e]:o[e].splice(n,1))},e.emit=function(e,o=Date.now()){try{n?n.postMessage({event:e,value:o}):i.TVLocalStorage.setItem(t+e,o.toString())}catch(e){r.logError(e.message)}}}(s||(s={}))},439611:(e,t,o)=>{"use strict";o.d(t,{MouseClickAutoBlurHandler:()=>s,initMouseClickAutoBlurHandler:()=>a});var n=o(481251),i=o(184277);const r="data-mouse-click-auto-blur";class s{constructor(){this._handler=e=>{document.activeElement instanceof HTMLElement&&((0,
i.isKeyboardClick)(e)||e.target instanceof Element&&"INPUT"!==document.activeElement.tagName&&null!==document.activeElement.closest(`[${r}]`)&&document.activeElement.blur())},window.addEventListener("click",this._handler,!0)}static attributes(e=!0){return e?{[r]:!0}:{}}}const a=(0,n.default)((()=>new s))},606553:(e,t,o)=>{"use strict";o.r(t);var n=o(226722),i=o(345848),r=o(954912);async function s(e){if(!(e.target&&e.target instanceof Element))return;const t=e.target.closest(".js-follow-user");if(!t)return;const{followUserHandler:n}=await Promise.all([o.e(82076),o.e(78120),o.e(45607)]).then(o.bind(o,663519));await n(t)}var a=o(900608),c=o(66974),l=o(49437),d=o(735566);const u=(0,d.getLogger)("Common.Evercookie");var m=o(62374);const h=(0,d.getLogger)("Common.Evercookie");window.TradingView=window.TradingView||{};const p=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;class f{constructor(){this._cookieName="tv_ecuid",this._env=null,this.check=()=>{if(this._isEcNotAvailable()||l.TVLocalStorage.getItem("_tv_ec_ignore_username")===window.user.username)return;const e=window.user.id;this._getEcUids().catch((e=>{h.logWarn(`Error thrown inside getEcUids(). Leave evercookie data untouched. User: ${window.user.username} (${window.user.id})\nActual error: ${e}`)})).then((t=>{if(void 0===t)return void h.logWarn(`getEcUids() returned no data. Leave evercookie data untouched. User: ${window.user.username} (${window.user.id})`);let n=t.localEcUid;const i=t.remoteEcUids;n&&p.test(n)||(n=(0,a.guid)(),m.evercookie.set(this._cookieName,n));const s=t=>{t.subscription_canceled&&Promise.all([o.e(81191),o.e(1283),o.e(56224),o.e(65729),o.e(32413),o.e(246),o.e(32227),o.e(18932)]).then(o.bind(o,383032)).then((e=>e.createTrialCanceledDialog())),e===window.user.id&&t.is_suspicious?l.TVLocalStorage.setItem("is_suspicious","1"):l.TVLocalStorage.removeItem("is_suspicious")};i&&0!==i.length&&-1!==i.indexOf(n)||e!==window.user.id||function(e){const t=new FormData;return t.append("ecuid",e),(0,r.fetch)("/accounts/set-ecuid/",{body:t,credentials:"include",method:"POST"}).then((e=>{if(e.ok)return e.json().catch((e=>{u.logWarn(`Error in reponse.json() of /accounts/set-ecuid/. User: ${window.user.username} (${window.user.id})\nActual error: ${e}`)}));throw new Error("Unable to set remote ecuids. Response was not OK")}))}(n).then(s)})).catch((e=>{h.logError(e.message+` User: ${window.user.username} (${window.user.id})`)}))},this._isEcNotAvailable()||(this._env=(0,c.environment)(),(0,c.isDebug)()&&(this._cookieName+="_"+this._env))}_isEcNotAvailable(){return window.TradingView.onWidget?.()||!window.user}_getLocalEcUid(){return new Promise((e=>{m.evercookie.get(this._cookieName,(t=>{e(t)}))}))}_getEcUids(){return new Promise(((e,t)=>{let o;this._getLocalEcUid().then((e=>(o=e,function(e){return new Promise(((t,o)=>{const n=new FormData;e&&n.append("local_ecuid",e),(0,r.fetch)("/accounts/get-ecuid/",{body:n,credentials:"include",method:"POST"}).then((e=>{if(e.ok)return e.json().catch((e=>{
u.logWarn(`Error in reponse.json() of /accounts/get-ecuid/. User: ${window.user.username} (${window.user.id})\nActual error: ${e}`)}));throw new Error("Unable to get remote ecuids. Response was not OK")})).then((e=>{t(e)})).catch((e=>{o(e)}))}))}(e)))).then((t=>{if(void 0===t)throw new Error(`getRemoteEcUids() returned no response. User: ${window.user.username} (${window.user.id})`);e({localEcUid:o,remoteEcUids:t.ecuids})})).catch((e=>{t(e)}))}))}}var w=o(685716);document.addEventListener("DOMContentLoaded",(()=>{document.addEventListener("click",(e=>{const t=e.target.closest(".js-profile-message");t instanceof HTMLElement&&(e.preventDefault(),function(e){const t=e.dataset.username;window.runOrSignIn((()=>(0,w.openPMDialog)(t)),{source:"Private message from broker popup",verifiedPhoneRequired:!0})}(t))}))}));var g=o(691840),_=o(638456),v=o(314802),y=o(799786),b=o(861482);var E=o(251954),L=o(309103),S=o(172840);function k(e,t="x"){let o=!1;return"x"!==t&&"both"!==t||(o=o||e.offsetWidth<e.scrollWidth),"y"!==t&&"both"!==t||(o=o||e.offsetHeight<e.scrollHeight),o}function T(e,t="x"){for(const o of Array.from(e.children))if(o instanceof HTMLElement&&(k(o,t)||T(o,t)))return!0;return!1}function C(e){let t="x";return e.matches(".apply-overflow-tooltip--direction_both")?t="both":e.matches(".apply-overflow-tooltip--direction_y")&&(t="y"),t}function D(e){const t=e.getAttribute("data-overflow-tooltip-html");if(t)return{type:"html",data:t};const o=e.getAttribute("data-overflow-tooltip-text");if(o)return{type:"text",data:o};if(e.matches?.(".apply-overflow-tooltip--allow-text")){return{type:"text",data:e.textContent||""}}const n=Array.from(e.childNodes).reduce(((e,t)=>(t.nodeType===Node.TEXT_NODE&&e.push(t.textContent||""),e)),[]).join("").trim();return n?{type:"text",data:n}:{type:"none"}}function N(e,t){let o=!1;const n=e.children;for(let e=0;e<n.length;e++){const i=n[e];if(i instanceof HTMLElement&&k(i,t)){o=!0;break}}return o}function O(e){const t=e.target;if(t instanceof HTMLElement&&(t.matches(".apply-overflow-tooltip-focus")||t.querySelector(".apply-overflow-tooltip-focus"))){const e=t.matches(".apply-overflow-tooltip")?t:t.querySelector(".apply-overflow-tooltip"),o=C(e);if(e.matches(".apply-overflow-tooltip--check-children-recursively")){if(!T(e,o))return}else if(e.matches(".apply-overflow-tooltip--check-children")){if(!N(e,o))return}else if(!k(e,o))return;(0,L.showOnElement)(t,{content:D(e)});const n=()=>{(0,L.hide)(),t.removeEventListener("blur",n),t.removeEventListener("active-descendant-blur",n)};t.addEventListener("blur",n),t.addEventListener("active-descendant-blur",n)}}(0,S.whenDocumentReady)((()=>{document.addEventListener("mouseenter",(e=>{const t=e.target;if(t instanceof HTMLElement&&t.matches(".apply-overflow-tooltip")){const e=C(t);if(t.matches(".apply-overflow-tooltip--check-children-recursively")){if(!T(t,e))return}else if(t.matches(".apply-overflow-tooltip--check-children")){if(!N(t,e))return}else if(!k(t,e))return;(0,L.showOnElement)(t,{content:D(t)});const o=()=>{(0,L.hide)(),
["mouseleave","mousedown"].forEach((e=>t.removeEventListener(e,o)))};["mouseleave","mousedown"].forEach((e=>t.addEventListener(e,o)))}}),!0),document.addEventListener("focus",O,!0),document.addEventListener("active-descendant-focus",O,!0)}));var x=o(251924),M=o(403902),A=o(207639);function P(e){return()=>{e()}}var V=o(591800),I=o(593110),B=o(889144);const H=`[${I.FOCUS_TRAP_DATA_ATTRIBUTE}="true"]`;class U{constructor(){this._handleMouseDown=()=>{this._forwardTab=void 0},this._handleKeyDown=e=>{this._forwardTab=void 0,[9,V.Modifiers.Shift+9].includes((0,V.hashFromEvent)(e))&&(this._forwardTab=!e.shiftKey)},this._handleFocus=e=>{const t=e.target;if(void 0===this._forwardTab||!(t instanceof HTMLElement))return;const o=this._findDeepestFocusTrapElement(document.documentElement);if(!(o instanceof HTMLElement)||!o||o.contains(t))return;e.preventDefault(),e.stopPropagation(),t.blur();const n=o.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_FOLLOWING){const e=this._forwardTab?$(o):$(o,!0);e instanceof HTMLElement&&e.focus()}},document.documentElement.addEventListener("focus",this._handleFocus,{capture:!0}),document.documentElement.addEventListener("keydown",this._handleKeyDown,{capture:!0}),document.documentElement.addEventListener("mousedown",this._handleMouseDown,{capture:!0})}destroy(){document.documentElement.removeEventListener("focus",this._handleFocus,{capture:!0}),document.documentElement.removeEventListener("keydown",this._handleKeyDown,{capture:!0}),document.documentElement.removeEventListener("mousedown",this._handleMouseDown,{capture:!0})}_findDeepestFocusTrapElement(e){const t=e.querySelectorAll(H);let o=null,n=-1;return t.forEach((t=>{const i=this._calculateParentCount(t,e);i>n&&(n=i,o=t)})),o}_calculateParentCount(e,t){let o=0,n=e.parentElement;for(;n&&n!==t;)"true"===n.getAttribute(I.FOCUS_TRAP_DATA_ATTRIBUTE)&&o++,n=n.parentElement;return o}}const F=P((()=>new U));function $(e,t){return t?(0,B.getLastFocusableDescendant)(e):(0,B.getFirstFocusableDescendant)(e)}const R=P((()=>{F()}));var W=o(439611),K=o(595450);var j=o(93322),X=o(641261),J=o(665343),z=o(384295),G=o(162127),q=o(579629);let Y,Q;function Z(){if(window.initData.lfs){const e=document.getElementsByClassName("js-admin-warning")[0];document.body.removeChild(e)}let e=!0;[/^\/chart\//,/^\/share-your-love\//,/^\/pine\//].forEach((t=>{t.test(window.location.pathname)&&(e=!1)})),e&&window.location.reload()}function ee(e){window.user=(0,A.deepExtend)({},e),window.TradingView.changeLoginState(!0)}function te(e){{const e=document.documentElement;e.classList.toggle("is-authenticated",window.is_authenticated),e.classList.toggle("is-not-authenticated",!window.is_authenticated)}window.TVSettings&&window.TVSettings.sync(window.user.settings),window.is_authenticated?(e&&!1!==window.user.profile_data_filled||void 0===Q||Q.check(),e||(Promise.all([o.e(24032),o.e(32514),o.e(32227),o.e(19158)]).then(o.bind(o,444139)).then((e=>e.offerButtonLoginStateChangeInit())),(0,_.onGoPro)()&&window.location.reload()),
!1===window.user.profile_data_filled&&((0,_.checkPageType)("mobile")||(0,v.isOnMobileAppPage)("any")||window.location.pathname.startsWith("/privacy-policy")||window.location.pathname.startsWith("/policies")||(0,S.whenDocumentReady)((()=>{(0,g.showSignModal)({mode:"create-account",onUnmountEvent:()=>{window.user.social_registration?(o.e(22947).then(o.bind(o,113452)).then((({registrationEvent:e})=>{e("Social")})),(0,X.trackGTagAdsEvent)(X.GTagEvent.RegistrationCompleted),(0,J.trackTwitterEvent)(J.TwitterEvent.RegistrationCompleted),(0,z.trackCmEvent)(z.CmEvent.RegistrationCompleted),delete window.user.social_registration):n.TVXWindowEvents.emit("loginStateChange",JSON.stringify({is_authenticated:window.is_authenticated,user:window.user}))}})}),!0),(0,i.trackEvent)("Conversion","First login"),delete window.user.profile_data_filled),G.availableOffers.runOrUpdate((()=>{window.TradingView.setTrialAvailiable((0,q.isTrialAvailableForUser)(window.user,window.is_authenticated))}))):G.availableOffers.runOrUpdate((e=>{Object.keys(e).forEach((t=>{const o=t;e[o].available_for_anons||delete e[o]})),window.user={username:"Guest",following:"0",followers:"0",ignore_list:[],available_offers:e},l.TVLocalStorage.removeItem("trial_availiable")}))}Y=window.loginStateChange?window.loginStateChange:window.loginStateChange=new x.Delegate,Y.subscribe(null,te),(0,y.createGroup)({desc:"Support"}).add({desc:"Open",hotkey:y.Modifiers.Mod+191,handler:()=>(0,b.showSupportDialog)({initialState:"shortcuts"})}),n.TVXWindowEvents.on("loginStateChange",(e=>{const t=JSON.parse(e);window.user=t.user,window.is_authenticated=!!t.is_authenticated,Y.fire()})),n.TVXWindowEvents.on("signOut",(()=>{Z()})),(()=>{const e="user-obj-changed",t={};window.crossTabSyncUserAttr=t=>{const o={};t instanceof Array?t.forEach((e=>{o[e]=window.user[e]})):o[t]=window.user[t],n.TVXWindowEvents.emit(e,JSON.stringify(o))},n.TVXWindowEvents.on(e,(e=>{const o=JSON.parse(e);let n;for(n in o)if(o.hasOwnProperty(n)){window.user[n]=o[n];(t[n]||[]).forEach((e=>{e.fire(o[n])}))}}))})(),window.TradingView.changeLoginState=e=>{window.is_authenticated=!!e,n.TVXWindowEvents.emit("loginStateChange",JSON.stringify({is_authenticated:window.is_authenticated,user:window.user})),window.is_authenticated&&E.emit(M.GLOBAL_EVENT_SIGN_IN_SUCCESS),Y.fire()},window.loginUser=ee,window.addEventListener("storage",(e=>{"login_user"===e.key&&null!==e.newValue&&ee(JSON.parse(e.newValue))})),window.TradingView.signOut=()=>{const e={...window.user};(0,r.fetch)("/accounts/logout/",{method:"POST",headers:{accept:"html"},credentials:"same-origin"}).then((()=>{window.TradingView.changeLoginState(!1),n.TVXWindowEvents.emit("signOut"),Z()})).catch((()=>{window.user=e,window.TradingView.changeLoginState(!0)}))},Q=new f,window.loginRequiredDelegate=new x.Delegate,window.runOrSignIn=(e,t)=>{t||(t={});const o=[];if(t.paidAccountCheck&&o.push((()=>(0,j.paidAccountCheck)({successButtonText:t.paidAccountSuccessButtonText}))),t.verifiedPhoneRequired){const e=()=>Promise.resolve((0,K.whenVerified)({showDialog:!0,
source:t.source,doNotCheckSuspicious:t.doNotCheckSuspicious,doNotCheckSocialActivity:t.doNotCheckSocialActivity,customPhoneCheck:t.customPhoneCheck,doNotShowConfirmation:t.doNotShowConfirmation,isSuspiciousCountry:t.isSuspiciousCountry,afterAllCb:t.afterAllCb}));o.push(e)}window.is_authenticated?o.reduce(((e,t)=>e.then(t)),Promise.resolve()).then(e).catch((()=>{})):(0,g.showSignModal)({source:t.source,sourceMeta:t.sourceMeta,feature:t.feature,mode:t.mode,signinSuccess:e,startTrial:t.startTrial,onUnmountEvent:t.onUnmountEvent,username:t.username})},window.is_authenticated&&n.TVXWindowEvents.on("user-status-declared",(e=>{window.user.declared_status=e})),window.onLoginStateChange=te,window.TradingView.setTrialAvailiable=e=>{l.TVLocalStorage.setItem("trial_availiable",e?"1":"0")},window.TradingView.notificationsChanged=new x.Delegate,document.body.addEventListener("click",s),R(),(0,W.initMouseClickAutoBlurHandler)()},162127:(e,t,o)=>{"use strict";o.r(t),o.d(t,{availableOffers:()=>i});var n=o(954912);const i=new class{constructor(){this._isInvalid=!0,this._offers={}}runOrUpdate(e){this._isInvalid?window.requestIdleCallback?window.requestIdleCallback((()=>this._updateOffers().then(e))):setTimeout((()=>this._updateOffers().then(e)),0):e(this._offers)}getData(){return this._offers}invalidate(e){this._isInvalid=!0,this.runOrUpdate(e??(()=>{}))}setInitial(e){this._isInvalid=!1,this._offers=e}ensureOffers(){return new Promise((e=>this.runOrUpdate(e)))}withAvailableOffers(e){return async(...t)=>(await this.ensureOffers(),e(...t))}async _updateOffers(){return window.user.available_offers||(window.user.available_offers={}),this._updateOffersPromise||(this._updateOffersPromise=(0,n.fetch)("/api/v1/offers/",{method:"GET",credentials:"include"}).then((async e=>{const t=await e.json();return delete this._updateOffersPromise,this._isInvalid=!1,this._offers=Object.entries(t).reduce(((e,[t,o])=>(o&&(e[t]=o),e)),{}),window.user.available_offers=this._offers,t})).catch((()=>({})))),this._updateOffersPromise}}},359365:(e,t,o)=>{"use strict";o.d(t,{LastChanceType:()=>r,OFFERS:()=>n,OfferKind:()=>i});const n={trial:"trial",early_access:"early_access",black_friday:"black_friday",cyber_monday:"cyber_monday",custom_discount:"custom_discount",longer_cycle:"longer_cycle",upgrade:"upgrade",extend:"extend",last_chance:"last_chance",one_usd:"one_usd",one_usd_yearly:"one_usd_yearly",three_months:"three_months",unsubscribe:"unsubscribe",six_months:"six_months",coupon:"coupon"},i={early_access:"early_access",black_friday:"black_friday",last_chance:"last_chance",one_usd:"1 usd offer",three_months:"3 months offer",six_months:"six_months",unsubscribe:"unsubscribe",custom_discount:"custom_discount"};var r;!function(e){e.TwoWeeks="LastChance_2w",e.TwoDays="LastChance_2d",e.Hours="LastChance_24h"}(r||(r={}))},685716:(e,t,o)=>{"use strict";function n(){
return Promise.all([o.e(27641),o.e(58882),o.e(26628),o.e(29573),o.e(78335),o.e(53054),o.e(94891),o.e(20693),o.e(34489),o.e(50454),o.e(13280),o.e(36163),o.e(19670),o.e(17066),o.e(68389),o.e(64924),o.e(10123),o.e(5910),o.e(32227),o.e(84434),o.e(18168),o.e(61821),o.e(60623),o.e(2373),o.e(49021),o.e(25514),o.e(6534),o.e(94978),o.e(82583),o.e(24025)]).then(o.t.bind(o,653582,19))}function i(e,t){n().then((o=>o.noteForAuthor(e,t)))}function r(e,t){n().then((o=>o.openPMDialog(e,t)))}function s(){n().then((e=>e.newPrivateChatDialog()))}o.d(t,{newPrivateChatDialog:()=>s,noteForAuthor:()=>i,openPMDialog:()=>r})},691840:(e,t,o)=>{"use strict";o.r(t),o.d(t,{isShowPromoVideo:()=>u,isSignModalOpen:()=>d,showSignModal:()=>l});var n=o(586240);const i=o.p+"astronaut.4a1616879bba68ef10e0.webp",r=o.p+"aurora.c6aede261d25c852fdb4.webp",s=n["media-mf-tablet-landscape"],a=n["media-mf-tablet-vertical"];let c=()=>!1;async function l(e){const t=Object.assign({},e,{isShowVideo:u()});if(window.TVD&&window.TVD.signIn)return window.TVD.signIn(t);{!function(){const e=document.createElement("link"),t=document.createElement("link");e.rel="preload",e.as="image",e.href=i,t.rel="preload",t.as="image",t.href=r,document.head.appendChild(e),document.head.appendChild(t)}();const e=await Promise.all([o.e(13415),o.e(1283),o.e(85615),o.e(56224),o.e(91478),o.e(55629),o.e(10727),o.e(31697),o.e(80760),o.e(79902),o.e(86280),o.e(30783),o.e(98567),o.e(31481),o.e(29573),o.e(73438),o.e(70815),o.e(7256),o.e(19981),o.e(53054),o.e(24313),o.e(26630),o.e(57369),o.e(3113),o.e(94521),o.e(78120),o.e(65360),o.e(28770),o.e(25161),o.e(99331),o.e(26778),o.e(63848),o.e(14072),o.e(32227),o.e(59637),o.e(48873),o.e(2037),o.e(125),o.e(36123)]).then(o.bind(o,472018));return c=e.isSignModalOpen,e.showSignModal(t)}}function d(){return c()}function u(){const e=window.matchMedia(s).matches,t=window.matchMedia(a).matches,o=window.innerWidth,n=window.innerHeight;return!!e||!!t&&n>=o}},403902:(e,t,o)=>{"use strict";o.d(t,{GLOBAL_EVENT_SIGN_IN_SUCCESS:()=>n,showEmailKey:()=>s,signupSource:()=>i,signupSourceMeta:()=>r});const n="GLOBAL_EVENT_SIGN_IN_SUCCESS";const i="signupSource",r="signupSourceMeta",s="auto-show-email-for-signin"},861482:(e,t,o)=>{"use strict";o.d(t,{showSupportDialog:()=>i});o(659863);var n=o(162127);function i(e){
return Promise.all([o.e(52555),o.e(1283),o.e(85615),o.e(41881),o.e(91478),o.e(10727),o.e(31697),o.e(80760),o.e(79902),o.e(58882),o.e(26628),o.e(55011),o.e(53924),o.e(6563),o.e(30783),o.e(31481),o.e(29573),o.e(20934),o.e(66029),o.e(7256),o.e(69295),o.e(19981),o.e(53054),o.e(84794),o.e(15984),o.e(35009),o.e(97677),o.e(45492),o.e(55469),o.e(96621),o.e(24313),o.e(26630),o.e(57369),o.e(3113),o.e(40766),o.e(50454),o.e(76011),o.e(38361),o.e(21507),o.e(94521),o.e(10271),o.e(8713),o.e(40853),o.e(57162),o.e(90550),o.e(68389),o.e(2125),o.e(2621),o.e(41433),o.e(32227),o.e(84434),o.e(25977),o.e(18168),o.e(31158),o.e(72201),o.e(7599),o.e(60337),o.e(63970),o.e(61197),o.e(25514),o.e(77736),o.e(82657),o.e(93411),o.e(57274)]).then(o.bind(o,430620)).then((t=>n.availableOffers.runOrUpdate((()=>new t.SupportDialog(e).open()))))}},482065:(e,t,o)=>{"use strict";async function n(e){return(await Promise.all([o.e(9351),o.e(1283),o.e(10727),o.e(31697),o.e(80760),o.e(79902),o.e(30783),o.e(31481),o.e(7256),o.e(19981),o.e(53054),o.e(51711),o.e(3113),o.e(50454),o.e(38361),o.e(21507),o.e(10271),o.e(19854),o.e(32413),o.e(26229),o.e(32227),o.e(84434),o.e(25977),o.e(24377),o.e(34786),o.e(8721),o.e(2224),o.e(42603)]).then(o.bind(o,686066))).createPhoneDialog(e)}o.d(t,{createPhoneDialog:()=>n})},93322:(e,t,o)=>{"use strict";o.d(t,{paidAccountCheck:()=>s});var n=o(49437),i=o(638456);const r=(0,o(735566).getLogger)("PaidAccountCheck");async function s(e){const{onlyCheck:t,successButtonText:s,isNeedCancelButton:a}=e,c=window.user,l=n.TVLocalStorage.getItem("previous_username");if(c&&window.is_authenticated&&!c.is_pro&&l&&!(0,i.isSymphonyEmbed)()){const{getProfile:e}=await Promise.all([o.e(35256),o.e(90254)]).then(o.bind(o,386794));try{const n=await e(l);if(Boolean(n.pro_plan)){if(t)return l;{const{showWrongAccountDialog:e}=await Promise.all([o.e(18607),o.e(95409),o.e(12019)]).then(o.bind(o,498314));return e({userName:l,isNeedCancelButton:a,successButtonText:s})}}}catch(e){r.logError(e.message)}}return!1}},579629:(e,t,o)=>{"use strict";o.d(t,{isTrialAvailableForUser:()=>i});var n=o(359365);function i(e,t){const o=e.available_offers||{};return t&&void 0!==o[n.OFFERS.trial]}},744404:(e,t,o)=>{const n=o(484434);e.exports=n,n(document).ajaxSend(((e,t,o)=>{o.crossDomain&&!o.forceLanguageHeader||(window.locale?t.setRequestHeader("X-Language",window.locale):console.warn("window.locale is not defined"))}))},595450:(e,t,o)=>{"use strict";o.d(t,{verificationIsRequired:()=>h,whenVerified:()=>p});var n=o(444372),i=o(345848),r=o(482065),s=o(49437),a=o(125226),c=o(687037),l=o(744404);let d=l.Deferred();function u(e,t){var o=TVSettings.getBool("_phone_verif_dlg_initial",!0);TVSettings.setValue("_phone_verif_dlg_initial",!1),(0,i.trackEvent)("Phone verification",e+(o?" initial":""),t)}function m(e){const t=l.Deferred();return(0,r.createPhoneDialog)({featureSource:e.source,doNotShowConfirmation:e.doNotShowConfirmation}).then((o=>{o.on("afterOpen",(()=>u("Show dialog",e.source))).on("verification:success",(o=>{t.resolve(o),u("Verified",e.source)
})).on("verification:cancel",(()=>{t.reject("cancelled"),u("Cancelled",e.source)})).on("verification:codeExpired",(()=>u("Show dialog",e.source))).open()})),t}function h(e={}){return new Promise((t=>{!window.is_authenticated||user.is_staff||user.is_superuser||user.is_pro||user.is_moderator?t([!1]):user.is_pro||!(0,a.isFeatureEnabled)("disable_phone_verification_for_free_users")?e.customPhoneCheck?e.customPhoneCheck()?t([!0,"date-joined"]):t([!1]):c.enabled("phone_verification")&&!user.has_phone?e.isSuspiciousCountry?t([!0]):!0!==e.doNotCheckSocialActivity?t([!0,"date-joined"]):(!0!==e.doNotCheckSuspicious&&t([Boolean(s.TVLocalStorage.getItem("is_suspicious")),"suspicious"]),t([!0,"default"])):t([!1]):t([!1])}))}function p(e={}){const t=l.Deferred();return h({doNotCheckSuspicious:e.doNotCheckSuspicious,doNotCheckSocialActivity:e.doNotCheckSocialActivity,customPhoneCheck:e.customPhoneCheck,isSuspiciousCountry:e.isSuspiciousCountry}).then((([i,r])=>{if(!i)return d.resolve(),t.resolve();if(i&&e.silentPhoneVerification)return t.reject("phone_verification_required");if(!e.showDialog)return d.done((()=>t.resolve()));const s={source:e.source,doNotShowConfirmation:e.doNotShowConfirmation};"suspicious"!==r&&(s.topMessage=n.t(null,void 0,o(220913))),m(s).done((()=>t.resolve())).always((()=>{t.reject("phone_verification_declined"),e.afterAllCb&&e.afterAllCb()}))})).catch((e=>e)),t.promise()}window.loginStateChange&&loginStateChange.subscribe(null,(()=>{window.is_authenticated&&(d=l.Deferred(),h().then((([e,t])=>{e||d.resolve()})))}))},877162:(e,t,o)=>{"use strict";o.d(t,{parseHtml:()=>i,parseHtmlElement:()=>r});const n=new WeakMap;function i(e,t){let o,i;return o=null==t?document.documentElement:9===t.nodeType?t.documentElement:t,n&&(i=n.get(o)),i||(i=o.ownerDocument.createRange(),i.selectNodeContents(o),n&&n.set(o,i)),i.createContextualFragment(e)}function r(e,t){const o=i(e,t),n=o.firstElementChild;return null!==n&&o.removeChild(n),n}},859457:(e,t,o)=>{"use strict";function n(e){e.preventDefault()}o.d(t,{preventDefault:()=>n,preventDefaultForContextMenu:()=>r});const i=["input:not([type])",'input[type="text"]','input[type="email"]','input[type="password"]','input[type="search"]','input[type="number"]','input[type="url"]',"textarea","a[href]",'*[contenteditable="true"]',"[data-allow-context-menu]"];function r(e){const t=e.target;t&&!t.closest(i.join(", "))&&e.preventDefault()}}}]);
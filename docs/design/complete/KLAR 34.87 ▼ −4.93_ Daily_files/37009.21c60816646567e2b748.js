"use strict";(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[37009],{357517:(e,t,n)=>{function i(e){let t=null;return(n,...i)=>(t?.abort(),t=new AbortController,n?.aborted?t.abort():n?.addEventListener("error",(()=>t?.abort()),{once:!0}),e(t.signal,...i))}function s(e){if(!c(e))throw e}function r(e){if(c(e))throw e}function o(e){return e?.aborted?Promise.reject(a()):new Promise(((t,n)=>{e?.addEventListener("abort",(()=>n(a())),{once:!0})}))}function a(){return new DOMException("Aborted","AbortError")}function c(e){return e instanceof Error&&"AbortError"===e.name||"object"==typeof e&&null!==e&&"name"in e&&"AbortError"===e.name}function l(e,t){return Promise.race([o(e),t])}async function u(e,t){let n;try{await l(e,new Promise((e=>{n=setTimeout(e,t)})))}finally{clearTimeout(n)}}n.d(t,{createAbortError:()=>a,delay:()=>u,isAbortError:()=>c,respectAbort:()=>l,respectLatest:()=>i,rethrowAbortError:()=>r,skipAbortError:()=>s})},132734:(e,t,n)=>{n.d(t,{Icon:()=>s});var i=n(50959);const s=i.forwardRef(((e,t)=>{const{icon:n="",title:s,ariaLabel:r,ariaLabelledby:o,ariaHidden:a,...c}=e,l=!!(s||r||o);return i.createElement("span",{role:"img",...c,ref:t,"aria-label":r,"aria-labelledby":o,"aria-hidden":a||!l,title:s,dangerouslySetInnerHTML:{__html:n}})}))},79205:(e,t,n)=>{n.d(t,{Icon:()=>i.Icon});var i=n(132734)},881383:(e,t,n)=>{n.d(t,{getLiveRegionInstance:()=>o,initLiveRegion:()=>a});n(50959);class i{constructor(e,t=[]){this._messagesQueue=[],this._alternate=!1,this._renderedMessage=null,this._idCounter=0,this._containers=[...t],this._type=e}setContainers(e){this._containers=[...e]}addMessage(e,t=0){const n=this._generateId(),i={id:n,message:e,destroyTimeout:this._calculateDestroyTimeout(e,t)};return this._messagesQueue.push(i),this._renderedMessage||this._renderMessage(),{...i,type:this._type,destroy:this._getDestroyMessageCallback(n)}}destroyAll(){this._messagesQueue=[],clearTimeout(this._renderedMessage?.destroyTimer),this._containers.forEach((e=>{e.innerText=""})),this._renderedMessage=null,this._alternate=!1}_generateId(){return`live-region-${this._type}-${this._idCounter++}`}_calculateDestroyTimeout(e,t=0){const n=50*e.trim().length+200,i=250*e.trim().length;return Math.min(Math.max(n,t),i)}_findById(e){return this._renderedMessage?.id===e?this._renderedMessage:this._messagesQueue.find((t=>t.id===e))}_getDestroyMessageCallback(e){return async t=>{const n=this._findById(e);return!!n&&(n.renderedTo?!!t&&(this._removeRenderedMessage(),this._renderMessage(),!0):(this._removeFromQueue(n),!0))}}_removeRenderedMessage(){const e=this._renderedMessage?.renderedTo;e&&(e.innerText=""),this._renderedMessage=null}_removeFromQueue(e){this._messagesQueue=this._messagesQueue.filter((t=>t!==e))}async _renderMessage(){if(!this._containers.length||!this._messagesQueue.length)return;const e=this._alternate?this._containers[0]:this._containers[1],t=this._messagesQueue.shift();let n;e.innerText=t.message;const i=new Promise(((e,i)=>{n=setTimeout((()=>{
if(this._renderedMessage?.id===t.id)return this._removeRenderedMessage(),void this._renderMessage().then(e);i("Currently rendered message is not the one that you 're trying to destroy")}),t.destroyTimeout)}));this._renderedMessage={...t,renderedTo:e,destroyTimer:n,destroyPromise:i},this._alternate=!this._alternate}}class s extends i{}const r=new class{constructor(){this.isInited=!1,this._politeQueue=new s("polite"),this._assertiveQueue=new s("assertive")}renderTo(e,t=!1){return t&&this.destroy(),this._init(e)}destroy(){this._politeQueue.destroyAll(),this._assertiveQueue.destroyAll(),this.isInited=!1}sayPolitely(e,t){return this.isInited?this._politeQueue.addMessage(e,t):null}interrupt(e,t){return this.isInited?this._assertiveQueue.addMessage(e,t):null}_init(e){if(!e)return!1;if(this.isInited)return!1;return!!this._setContainers(e)&&(this.isInited=!0,!0)}_setContainers(e){const t=document.getElementById(e);if(!t)return!1;const n=t.querySelectorAll('[aria-live="polite"]'),i=t.querySelectorAll('[aria-live="assertive"]');return!(!n||2!==n.length||!i||2!==i.length)&&(this._politeQueue.setContainers([n[0],n[1]]),this._assertiveQueue.setContainers([i[0],i[1]]),!0)}};function o(){return r}function a(e){return o().renderTo(e),o()}},742480:(e,t,n)=>{n.d(t,{initSnackbarContainer:()=>s});const i="snackbar-container";function s(){let e=document.getElementById(i);return e||(e=document.createElement("div"),e.setAttribute("aria-live","polite"),e.id=i,document.body.appendChild(e),e)}},752023:(e,t,n)=>{n.r(t),n.d(t,{cookieBannerDelegate:()=>c,initCookiesNotification:()=>h,showCookiesNotification:()=>u});var i=n(199010),s=n(197188),r=n(261030),o=n(638456),a=n(314802);n(659863);const c=(0,s.createDeferredPromise)();let l=!1;async function u(){if(l)return;const{setCookieStageStatus:e}=await n.e(38869).then(n.bind(n,597667));l=!0;const t=await n.e(38869).then(n.bind(n,415127));await t.showCookiesNotification(),e(!0),l=!1}const d=["/symbols"];async function h(){const{setCookieStageStatus:e}=await n.e(38869).then(n.bind(n,597667));if((0,o.isSymphonyEmbed)())return e(!0),(0,r.notApplicateBanner)(),(0,r.setCookieSetting)(r.CookieSettings.Analytics,!0),(0,r.setCookieSetting)(r.CookieSettings.Advertising,!1),void r.cookieSettingsReady.resolve();if((0,r.checkBannerPrivacyPreferenceKey)()||(0,a.isOnMobileAppPage)("any")||/^\/widget-wizard\//.test(window.location.pathname))e(!0);else{const n=document.querySelector(".js-main-page-promo-container"),s=d.find((e=>window.location.pathname.includes(e)));if(n||s||c.resolve(),s&&window.addEventListener("scroll",(function e(){window.scrollY>=.2*document.documentElement.scrollHeight&&(c.resolve(),window.removeEventListener("scroll",e))})),(0,r.isBannerVisible)())return r.cookieSettingsReady.resolve(),c.promise.then((()=>u()));{const n=await(0,i.userGeoInfo)();if(n.is_in_european_union||(t=n.country_code,["is","li","no","gb"].includes(t)))return(0,r.showBanner)(),r.cookieSettingsReady.resolve(),c.promise.then((()=>u()));e(!0),(0,r.notApplicateBanner)(),(0,r.setCookieSetting)(r.CookieSettings.Analytics,!0),
(0,r.setCookieSetting)(r.CookieSettings.Advertising,!0)}}var t;r.cookieSettingsReady.resolve()}},581996:(e,t,n)=>{n.d(t,{ResizerDetacherState:()=>r});var i=n(650151),s=n(77294);class r{constructor(e){this._alive=new s.WatchedValue,this._container=new s.WatchedValue,this._width=new s.WatchedValue,this._height=new s.WatchedValue,this._fullscreen=new s.WatchedValue,this._detachable=new s.WatchedValue,this._fullscreenable=new s.WatchedValue,this._visible=new s.WatchedValue,this._availWidth=new s.WatchedValue,this._availHeight=new s.WatchedValue,this._owner=new s.WatchedValue,this._ownersStack=[],this.owner=this._owner.readonly(),this._bridge={alive:this._alive.readonly(),container:this._container.readonly(),width:this._width.readonly(),height:this._height.readonly(),fullscreen:this._fullscreen.readonly(),detachable:this._detachable.readonly(),fullscreenable:this._fullscreenable.readonly(),visible:this._visible.readonly(),availWidth:this._availWidth.readonly(),availHeight:this._availHeight.readonly(),remove:()=>{const e=this._owner.value();e&&e.remove&&e.remove()},negotiateWidth:e=>{const t=this._owner.value();t&&t.negotiateWidth&&t.negotiateWidth(e)},negotiateHeight:e=>{const t=this._owner.value();t&&t.negotiateHeight&&t.negotiateHeight(e)},requestFullscreen:()=>{const e=this._owner.value();e&&e.requestFullscreen&&e.requestFullscreen()},exitFullscreen:()=>{const e=this._owner.value();e&&e.exitFullscreen&&e.exitFullscreen()},detach:e=>{const t=this._owner.value();t&&t.detach&&t.detach(e)},attach:()=>{const e=this._owner.value();e&&e.attach&&e.attach()}},e&&this.pushOwner(e)}destroy(){for(const e of this._ownersStack)this._unsubscribeOwner(e)}bridge(){return this._bridge}pushOwner(e){if(!e.alive.value())return;for(const e of this._ownersStack)this._unsubscribeOwner(e);const t={owner:e};this._ownersStack.push(t),this._subscribeOwner(t)}_subscribeOwner(e){const t=e.owner;if(e.deathWatcher||(this._alive.setValue(!0),e.deathWatcher=t.alive.spawn(),e.deathWatcher.subscribe((t=>{t||this._deadHandler(e)}))),this._owner.setValue(t),!e.subscriptions){const n=e.subscriptions=[];this._visible.setValue(!1);const i=(e,t)=>{if(e){const i=e.spawn();n.push(i),i.subscribe((e=>{t.setValue(e)}),{callWithLast:!0})}else t.deleteValue()};i(t.container,this._container),i(t.width,this._width),i(t.height,this._height),i(t.fullscreen,this._fullscreen),i(t.detachable,this._detachable),i(t.fullscreenable,this._fullscreenable),i(t.availWidth,this._availWidth),i(t.availHeight,this._availHeight),i(t.visible,this._visible)}}_unsubscribeOwner(e,t){if(e.subscriptions){for(const t of e.subscriptions)t.unsubscribe();e.subscriptions=null}t&&e.deathWatcher&&(e.deathWatcher.unsubscribe(),e.deathWatcher=null)}_deadHandler(e){const t=this._ownersStack.indexOf(e);(0,i.assert)(-1!==t,"sanitized owner should be in stack");for(let e=this._ownersStack.length-1;e>=t;e--)this._unsubscribeOwner(this._ownersStack[e],!0);this._ownersStack.length=t,t>0?this._subscribeOwner(this._ownersStack[t-1]):(this._alive.setValue(!1),this._owner.deleteValue())}}},484443:(e,t,n)=>{
function i(e,t){let n=0;for(const{min:i,max:s}of t){if(e<i||s<i)continue;const t=Math.min(e,s);if(n=Math.max(n,t),e===n)break}return n}function s(e){const t=[];if(void 0===e)return[];Array.isArray(e)||(e=[e]);for(const n of e){let e,i;isFinite(n)?e=i=Number(n):(e=+n.min,i=+n.max),(e<0||isNaN(e))&&(e=0),isNaN(i)&&(i=1/0),e<=i&&i>0&&t.push({min:e,max:i})}return t.sort(((e,t)=>e.min-t.min||e.max-t.max)),t}function r(e,t){if(e.length!==t.length)return!1;for(let n=e.length;n--;){if(e[n].min!==t[n].min)return!1;if(e[n].max!==t[n].max)return!1}return!0}n.d(t,{determineSize:()=>i,negotiationsAreEqual:()=>r,processNegotiation:()=>s})},974493:(e,t,n)=>{n.d(t,{Root:()=>f});var i=n(77294),s=n(581996);class r{constructor(e){this._document=e,this.isFullscreen=new i.WatchedValue;const t=()=>{const e=["fullscreenElement","webkitFullscreenElement","mozFullscreenElement","mozFullScreenElement","msFullscreenElement"];for(let t=0;t<e.length;t++){const n=e[t];if(n in this._document){this.isFullscreen.setValue(!!this._document[n]);break}}};t();for(const n of["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"])e.addEventListener(n,t,!1)}enter(){const e=this._document.documentElement;for(const t of["requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen"])if("function"==typeof e[t]){e[t]();break}this.isFullscreen.setValue(!0)}exit(){const e=this._document;for(const t of["exitFullscreen","mozCancelFullScreen","mozExitFullscreen","webkitExitFullscreen","msExitFullscreen"])if("function"==typeof e[t]){e[t]();break}this.isFullscreen.setValue(!1)}}var o=n(470316),a=n(251954);class c{constructor(e){this.isFullscreen=new i.WatchedValue,this._handleExit=e=>{27!==(0,o.hashFromEvent)(e)||e.defaultPrevented||(e.preventDefault(),this.exit())},this._element=e}enter(){this.isFullscreen.setValue(!0),a.emit("onInternalFullscreenShow"),this._element.addEventListener("keydown",this._handleExit)}exit(){this.isFullscreen.setValue(!1),a.emit("onInternalFullscreenHide"),this._element.removeEventListener("keydown",this._handleExit)}}var l=n(554433),u=n(314802),d=n(650151),h=n(638456);class f{constructor(e,t){this._updateDocumentHeight=e=>{"visual"===this._viewportType&&this._window.document.documentElement.style.setProperty("height",`${e}px`,"important")},this._window=e,this._fullscreenApi=t?new c(e.document.body):new r(e.document),this._viewportType=h.CheckMobile.iOS()&&!(0,u.isOnMobileAppPage)("any")&&this._window.visualViewport?"visual":"quirks","visual"===this._viewportType?this._viewport=(0,d.ensure)(this._window.visualViewport):this._viewport=this._window;const n=this._layoutSizeSensor=this._window.document.createElement("div");n.id="layout-size-sensor",n.style.position="fixed",n.style.top="0",n.style.left="0",n.style.right="0",n.style.bottom="0",n.style.pointerEvents="none",n.style.visibility="hidden",this._initFullscreen()}allocate(){this.free();const e=this._window.document,t=e.createElement("div");t.classList.add("js-rootresizer__contents"),t.style.position="relative",
t.style.width="100%",t.style.height="100%",e.body.insertAdjacentElement("afterbegin",t),e.body.insertAdjacentElement("afterbegin",this._layoutSizeSensor),this._visibilityApi=new l.VisibilityApi(this._window.document);const n={alive:new i.WatchedValue(!0),fullscreenable:new i.WatchedValue(!0),container:new i.WatchedValue(t),width:new i.WatchedValue,height:new i.WatchedValue,availWidth:new i.WatchedValue,availHeight:new i.WatchedValue,visible:this._visibilityApi.isVisible,fullscreen:this._fullscreenApi.isFullscreen,remove:()=>{n.alive.setValue(!1)},attach:()=>{n.alive.setValue(!1),this._window.close()},requestFullscreen:()=>{this._requestFullscreen()},exitFullscreen:()=>{this._exitFullscreen()}};return n.alive.subscribe((e=>{e||n!==this._area||this.free()})),this._area=n,this._resizeHandler=()=>{const e=this._width(n)||800,t=this._height(n)||600;n.availHeight.setValue(t),n.availWidth.setValue(e),n.height.setValue(t),n.width.setValue(e)},this._area.height.subscribe(this._updateDocumentHeight,{callWithLast:!0}),this._resizeHandler(),this._viewport.addEventListener("resize",this._resizeHandler),new s.ResizerDetacherState(n).bridge()}free(){if(this._resizeHandler&&(this._viewport.removeEventListener("resize",this._resizeHandler),this._resizeHandler=void 0),this._visibilityApi&&(this._visibilityApi.destroy(),this._visibilityApi=void 0),this._area){const e=this._area;this._area=void 0,e.height.unsubscribe(this._updateDocumentHeight),e.alive.setValue(!1);const t=e.container.value(),n=t?.parentElement;n&&(n.removeChild(t),n.removeChild(this._layoutSizeSensor))}}_height(e){if("visual"===this._viewportType)return this._layoutSizeSensor.clientHeight;return e.container.value().clientHeight}_width(e){return e.container.value().clientWidth}_requestFullscreen(){this._fullscreenApi.enter()}_exitFullscreen(){this._fullscreenApi.exit()}_initFullscreen(){this._fullscreenApi.isFullscreen.subscribe((e=>{this._resizeHandler&&this._resizeHandler()}))}}},554433:(e,t,n)=>{n.d(t,{VisibilityApi:()=>s});var i=n(77294);class s{constructor(e){let t;this.isVisible=new i.WatchedValue(!0);let n=null;for(const i of["","moz","ms","webkit"]){const s=i?`${i}Hidden`:"hidden";if(s in e){t=`${i}visibilitychange`,n=()=>{this.isVisible.setValue(!e[s])},n(),e.addEventListener(t,n,!1);break}}this.destroy=()=>{n&&(e.removeEventListener(t,n,!1),n=null)}}}},167989:(e,t,n)=>{n.d(t,{initSubscribeToGlobalEventsStorage:()=>s});var i=n(251954);function s(){window.subscribeGlobalEventsStorage=(e,t)=>{i.subscribe(e,t,null)}}},921454:(e,t,n)=>{n.d(t,{POPUP_IN_CLOSING_PROCESS_CLASS:()=>o,POPUP_ROOT_CONTAINER_CLASS:()=>a,init:()=>d,showUserLinkPopup:()=>l,unmountUserLinkPopupInstances:()=>u});var i=n(778785),s=n(954912),r=n(357517);const o="user-link-popup-in-closing",a="user-link-popup-root-container";class c{constructor(e,t){const{username:n,openTimeoutDuration:i}=t??{};this._target=e,this._abortController=new AbortController;const s=(this._target.getAttribute("data-username")||this._target.textContent)??void 0;this._username=n??s,this._openTimeoutDuration=i}openPopup(){
if(c.isPopupOpened())return;const e=setTimeout((async()=>{try{await this._renderPopupComponent()}catch(e){(0,r.skipAbortError)(e)}}),50);this._target.addEventListener("mouseleave",(()=>{clearTimeout(e),this._abortController.abort()}),{once:!0})}static isPopupOpened(){const e=document.body.querySelector(`.${a}`),t=e&&!e.classList.contains(o);return Boolean(t)}static isElementContainsPopupClass(e){return e.classList.contains("js-userlink-popup")}static async unmountAllPopupInstances(){const e=Array.from(document.querySelectorAll(`.${a}`)).map((e=>e.parentElement)).filter((e=>Boolean(e)));if(e.length)for(const t of e)c._unmountPopupInstance(t)}_isPopupUserModel(e){return"ideas"in e&&"followers"in e}async _getPopupData(e,t){const n=`/api/v1/users/${e}/popup/`,i=await(0,s.fetch)(n,{method:"GET",signal:t});if(!i.ok)return null;return await i.json()}_formatDataIntoProps(e){const t=this._target.matches('[target="_blank"]')?"_blank":void 0,n=this._isPopupUserModel(e);return{name:e.username,displayName:n?e.username:e.display_name,badges:e.badges,isBroker:e.is_broker,ideasCount:n?e.ideas:void 0,profileUrl:e.uri,followers:n?e.followers:void 0,userPic:e.avatars.mid,isFollowed:e.follow_status,status:e.status,showButtons:e.username!==window.user.username,brokerRatingFormatted:n?void 0:e.rating_details.formatted,brokerRating:n?void 0:e.rating_details.value,hrefTarget:t,isBanned:e.is_banned}}async _renderPopupComponent(){if(!this._username)return;const[e,{renderUserLinkPopup:t}]=await Promise.all([this._getPopupData(this._username,this._abortController.signal),(0,r.respectAbort)(this._abortController.signal,Promise.all([n.e(2082),n.e(1283),n.e(78335),n.e(20693),n.e(5847),n.e(13280),n.e(36163),n.e(19670),n.e(40811),n.e(85125),n.e(73748),n.e(32227),n.e(89568)]).then(n.bind(n,158467)))]);if(!e||this._abortController.signal.aborted)return;const i=document.createElement("div");document.body.appendChild(i);const s=this._formatDataIntoProps(e);t(i,{target:this._target,onClose:()=>c._unmountPopupInstance(i),renderViewProps:s,openTimeoutDuration:this._openTimeoutDuration})}static async _unmountPopupInstance(e){if(!document.body.contains(e))return;const{unmountUserLinkPopup:t}=await Promise.all([n.e(2082),n.e(1283),n.e(78335),n.e(20693),n.e(5847),n.e(13280),n.e(36163),n.e(19670),n.e(40811),n.e(85125),n.e(73748),n.e(32227),n.e(89568)]).then(n.bind(n,158467));t(e),e.remove()}}function l(e,t){new c(e,t).openPopup()}async function u(){c.unmountAllPopupInstances()}async function d(){const e=e=>{if(!(e.target instanceof Element))return;const t=e.target;c.isElementContainsPopupClass(t)&&l(t)};i.mobiletouch||document.body.addEventListener("mouseenter",e,{capture:!0})}},347402:(e,t,n)=>{n.d(t,{desktopVersionIsLess:()=>o,lessThan:()=>r});var i=n(638456);function s(e){const t=e.match(/^(\d+).(\d+).(\d+)/);if(!t)return null;const[,n,i,s]=t;return[parseInt(n),parseInt(i),parseInt(s)]}function r(e,t){const n=s(e),i=s(t);if(!n||!i)return!1;const[r,o,a]=n,[c,l,u]=i;return r!==c?r<c:o!==l?o<l:a!==u&&a<u}function o(e){const t=(0,i.desktopAppVersion)()
;return!!t&&r(t,e)}},575200:(e,t,n)=>{n.d(t,{appendGoogleScript:()=>w,completeGoogleAuth:()=>v,googleButtonDelegate:()=>m,initOneTapSignIn:()=>g});var i=n(691805),s=n(588948),r=n(72224),o=n(638456),a=n(251924),c=n(197188),l=n(486710),u=n(660681),d=n(691840),h=n(308180),f=n(125226);const p="https://accounts.google.com/gsi/client",m=new a.Delegate;let _=!1;function g(){window.GOOGLE_CLIENT_ID&&!(0,s.getFreshInitData)().googleSigninPopupDisabled&&(o.CheckMobile.iOS()?setTimeout((()=>{w()}),6e4):w())}async function w(){if(_)return;_=!0;const e=(0,c.createDeferredPromise)(),t=(0,i.appendScript)(p);t.onload=()=>e.resolve(),t.onerror=()=>e.reject(),window.handleGoogleCredentialResponse=e=>{e.select_by.startsWith("btn")?m.fire(e.credential):async function(e){const t=(0,r.getUrlParams)(),n={feature_source:"google_one_tap",utm_source:t.utmsource,utm_medium:t.utmmedium},i=new FormData;i.append("token",e),i.append("mode_with_confirmation",(0,f.isFeatureEnabled)("enable_social_auth_confirmation")?"signin-with-confirm":"signin"),v(i,n,(e=>{window.user=e.user,window.TradingView.changeLoginState(!0)}),(e=>(0,d.showSignModal)({mode:"second-factor",secondAuthFactorInfo:e})),h.showErrorDialog,(e=>(0,d.showSignModal)({mode:"social-auth-confirmation",socialConfirmData:e})))}(e.credential)},window.logMomentNotification=()=>{window.is_authenticated?b():window.loginStateChange.subscribe(null,b,!0)};const n=document.createElement("div");return n.setAttribute("id","g_id_onload"),n.setAttribute("data-client_id",window.GOOGLE_CLIENT_ID),n.setAttribute("data-callback","handleGoogleCredentialResponse"),n.setAttribute("data-use_fedcm_for_prompt","true"),n.setAttribute("data-moment_callback","logMomentNotification"),n.setAttribute("data-cancel_on_tap_outside","false"),document.body.appendChild(n),e.promise}function b(){window.google.accounts.id.cancel()}async function v(e,t,n,i,s,r){(0,l.socialAuth)(e,t).then(n).catch((e=>{const t=["2FA_required","2FA_challenge_not_generated"].includes(e.type??"");if("SA_unconfirmed_auth"===e.type&&r&&e.socialConfirmData)r(e.socialConfirmData);else if(t&&e.secondFactorTypes&&e.secondFactorTypes.length>0){const t=u.SMS_BANNED_STATUS===e.status,s=e.secondFactorTypes[0],r={codeTTL:"sms"===s.name?s.code_ttl:void 0,type:s.name,onlyBackup:t,onSignin:n};i(r)}else e.message&&s(e.message)}))}},470316:(e,t,n)=>{n.d(t,{Modifiers:()=>i.Modifiers,hashFromEvent:()=>i.hashFromEvent,hashShiftPlusEnter:()=>i.hashShiftPlusEnter,humanReadableHash:()=>i.humanReadableHash,humanReadableModifiers:()=>i.humanReadableModifiers,isMacKeyboard:()=>i.isMacKeyboard,modifiersFromEvent:()=>i.modifiersFromEvent});var i=n(591800)},564894:(e,t,n)=>{n.d(t,{hasService:()=>c,registerService:()=>o,service:()=>l,unregisterService:()=>a,waitServiceRegistered:()=>u});var i=n(197188);const s={},r=new Map;function o(e,t){if(c(e))throw new Error("Service already registered");s[e.id]=t;const n=r.get(e.id);void 0!==n&&(r.delete(e.id),n.resolve(t))}function a(e){if(!c(e))throw new Error("Service not found");s[e.id]=void 0}function c(e){return void 0!==s[e.id]}
function l(e){const t=s[e.id];if(void 0===t)throw new Error("ServiceLocator: Service "+e.id+" not found");return t}function u(e){if(c(e))return Promise.resolve(l(e));let t=r.get(e.id);return void 0===t&&(t=(0,i.createDeferredPromise)(),r.set(e.id,t)),t.promise}},519073:(e,t,n)=>{function i(e){return void 0!==e&&e.includes("crypto")}function s(e,t){return"spot"===e&&i(t)}function r(e,t){return"stock"===e&&t.includes("right")||"right"===e}function o(e,t){return a(e,t)||"stock"===e&&t.includes("fund")&&t.includes("etf")||"structured"===e&&t.includes("etn")}function a(e,t){return"fund"===e&&t.includes("etf")}function c(e){return"bond"===e}function l(e,t){return"bond"===e&&t.includes("corporate")}function u(e){return"economic"===e}function d(e){return"option"===e}function h(e){return"dex"===e?.centralization}function f(e){return"spread"===e}function p(e){return"futures"===e}function m(e){return"forex"===e}function _(e,t,n){return i(t)&&"spot"===e&&"USD"===n}function g(e,t){return"spot"===e&&t.includes("cryptoasset")}function w(e,t,n){return Boolean("bond"===e&&n&&t.includes("government"))}function b(e,t){return Boolean("bond"===e&&t.includes("government")&&!t.includes("benchmark"))}function v(e){return Boolean(e.typespecs?.includes("yield"))}function y(e,t){return"stock"===e&&t.includes("common")||"stock"===e&&t.includes("preferred")||"stock"===e&&t.includes("forward")||"stock"===e&&t.includes("bonus")||"stock"===e&&t.includes("cfd")||"fund"===e&&t.includes("mutual")||"fund"===e&&t.includes("unit")||"fund"===e&&t.includes("trust")||"fund"===e&&t.includes("reit")||"fund"===e&&t.includes("etn")||"fund"===e&&t.includes("closedend")||"bond"===e&&t.includes("convertible")||"dr"===e||"warrant"===e||"structured"===e&&!t.includes("etn")}function S(e){return e?.includes("discontinued")??!1}n.d(t,{hasCryptoTypespec:()=>i,isBond:()=>c,isCorporateBond:()=>l,isCryptoSpot:()=>s,isCryptoSpotUsd:()=>_,isCryptoassetSpot:()=>g,isDex:()=>h,isEconomicSymbol:()=>u,isEtf:()=>o,isForexSymbol:()=>m,isFundEtf:()=>a,isFutures:()=>p,isGovernmentBenchmarkBond:()=>w,isGovernmentOnlyBond:()=>b,isOption:()=>d,isRight:()=>r,isSpread:()=>f,isStocksSymbol:()=>y,isSymbolDelisted:()=>S,isYield:()=>v})},61499:(e,t,n)=>{var i;n.d(t,{StdTheme:()=>i}),function(e){e.Light="light",e.Dark="dark"}(i||(i={}))},18182:(e,t,n)=>{n.d(t,{MatchMedia:()=>s});var i=n(50959);class s extends i.PureComponent{constructor(e){super(e),this._handleChange=()=>{this.forceUpdate()},this.state={query:window.matchMedia(this.props.rule)}}componentDidMount(){this._subscribe(this.state.query)}componentDidUpdate(e,t){this.state.query!==t.query&&(this._unsubscribe(t.query),this._subscribe(this.state.query))}componentWillUnmount(){this._unsubscribe(this.state.query)}render(){return this.props.children(this.state.query.matches)}static getDerivedStateFromProps(e,t){return e.rule!==t.query.media?{query:window.matchMedia(e.rule)}:null}_subscribe(e){e.addEventListener("change",this._handleChange)}_unsubscribe(e){e.removeEventListener("change",this._handleChange)}}},354298:(e,t,n)=>{n.d(t,{
reconnectChartApi:()=>i,setBroker:()=>s});n(122023);function i(e){const t=window.ChartApiInstance;window.is_authenticated&&(t.disconnect(),e&&t.authTokenManager().reset(),setTimeout((()=>t.connect()),500))}function s(e){window.ChartApiInstance.setBroker(e)}},921711:(e,t,n)=>{n(184548);var i=n(444372),s=n(277038),r=n(74867),o=n(262078),a=n(345848),c=n(226722),l=n(735566);const u=(0,l.getLogger)("UserSessions");let d,h=0,f=!1,p=!1;function m(e){if(f){ChartApiInstance.connect({tokenGrabSession:e});const t=ChartApiInstance.connectDfd;return f=!1,d&&(t.then((function(){(0,a.trackEvent)("Auth","Different Device Active Recovery"),d.destroy(),d=void 0})),t.catch((function(){f=!0}))),t}}c.TVXWindowEvents.on("session_captured",(function(){m()})),o.pushStreamMultiplexer.on("auth",(function(e){if(is_authenticated&&user&&user.session_hash&&"active_session_changed"===e.type&&e.timestamp>h){if(h=e.timestamp,user.session_hash===e.source_session&&e.source_session in e.changes&&"cycled"===e.changes[e.source_session].a&&(user.session_hash=e.changes[e.source_session].h),user.session_hash in e.changes&&"logout"===e.changes[user.session_hash].a)return void(e.source_session!==user.session_hash&&(t=e.device_info,(0,s.createGoProDialog)({feature:"sessionLogout",customParams:t,actions:[{action:r.PredefinedAction.Close,text:i.t(null,{context:"action"},n(433334))}]})));if(!e.active_sessions)return;let o=!1;for(let t=e.active_sessions.length-1;t>=0;t--)user.session_hash===e.active_sessions[t]&&(o=!0);o?d&&m():function(e){if(f)return;let t=!1;if(ChartApiInstance&&(ChartApiInstance.disconnect(),t=!0),t){(0,a.trackEvent)("Auth","Different Device Active Dialog"),f=!0,u.logNormal("Different device connection detected: "+JSON.stringify(e));const t=function(){p=!1;const e=m(!0);e&&e.then((function(){c.TVXWindowEvents.emit("session_captured")}))};if(!p){const o={feature:"sessionLock",customParams:e,actionAfterClose:t,actions:[{action:r.PredefinedAction.Close,color:"black",text:i.t(null,void 0,n(877309)),onClick:t}]};(0,s.createGoProDialog)(o).then((()=>{p=!0}))}}}(e.device_info)}var t}));n(202373);var _=n(77034),g=n.n(_),w=n(799786);g().safari&&(0,w.createGroup)().add({desc:"Prevent exit native fullscreen",hotkey:27,handler:()=>{}});var b=n(174079),v=n(172840),y=n(638456),S=n(314802),P=n(354298),k=n(921454),T=n(752023),E=n(742480),C=n(261030),A=n(347402);function I(){((0,y.isWindows)()||(0,y.isMac)())&&(0,A.desktopVersionIsLess)("2.5.1")&&async function(){const{showUpdateAppDialog:e,updateDesktopAppDialogKey:t,dialogHideValue:i}=await Promise.all([n.e(66188),n.e(1283),n.e(56224),n.e(59648),n.e(99408),n.e(78335),n.e(65729),n.e(13647),n.e(38962),n.e(72086),n.e(12047),n.e(7333)]).then(n.bind(n,852445));window.sessionStorage.getItem(t)!==i&&e()}()}var D=n(125226),M=n(62802);const O=(0,l.getLogger)("NewsNotificationsInit");var F=n(400353),L=n(833813),V=n(881383),R=(n(659863),n(575200)),N=n(199010);var x=n(49437),W=n(407085);var H=n(780626);var U=n(46277),j=n(861482);var G=n(17519),B=n(93322),q=n(214842),z=n(290484),$=n(175203),Q=n(900608)
;const J="activeBrowserTabsCounter";let Y=null;class K{constructor(){this._isMasterTab=!1,this._lastState={tabs:[],ts:0},this._sendReport=(0,z.default)(((e,t)=>{this._isMasterTab&&($.telemetry.sendReport("site","browsers_tabs_ratio_frame",{value:e}),$.telemetry.sendReport("site","browsers_tabs_count_frame",{value:t}))}),2e4),this._guid=(0,Q.guid)(),this._initTimer()}unregisterTab(){clearInterval(this._timerId);const e=this._getState();e.tabs=e.tabs.filter((e=>e[0]!==this._guid)),e.ts=Date.now(),this._setState(e)}static getInstance(){return null===Y&&(Y=new K),Y}_checkIsMaster(e){const t=0===e.tabs.length,n=Date.now()-e.ts>2e4;return t||n||e.tabs[0][0]===this._guid}_countVisibleTabsRatio(e){const t=e.reduce(((e,t)=>e+("visible"===t[1]?1:0)),0);return Math.round(t/e.length*100)}_getState(){const e=x.TVLocalStorage.getItem(J),t=null!==e?JSON.parse(e):this._lastState;return this._lastState=t,t}_setState(e){x.TVLocalStorage.setItem(J,JSON.stringify(e))}_pulse(){const e=this._lastState.tabs,t=document.visibilityState,n=this._getState(),i=n.tabs.find((e=>e[0]===this._guid)),s=this._isMasterTab;this._isMasterTab=this._checkIsMaster(n);const r=!s&&this._isMasterTab;if(void 0!==i&&i[1]!==t&&(i[1]=t),r)n.tabs=[[this._guid,t]],n.ts=Date.now(),this._isMasterTab=!0,this._sendReport(100,1);else if(this._isMasterTab){n.ts=Date.now();const t=this._countVisibleTabsRatio(e),i=this._countVisibleTabsRatio(n.tabs);t!==i&&this._sendReport(i,n.tabs.length)}else void 0===i&&n.tabs.push([this._guid,t]);this._setState(n)}_initTimer(){this._pulse(),this._timerId=setInterval((()=>this._pulse()),1e4)}}var X=n(167989),Z=n(864671);var ee=n(516621);const te=(0,l.getLogger)("Chart.Base");if(loginStateChange.subscribe(window,(function(e){if(user&&is_authenticated){TVLocalStorage.getItem("paid_account_username")&&TVLocalStorage.removeItem("paid_account_username");const e=TVLocalStorage.getItem("last_username"),t=TVLocalStorage.getItem("previous_username");e!==user.username&&(TVLocalStorage.setItem("last_username",user.username),e&&e!==t&&(TVLocalStorage.setItem("previous_username",e),(0,B.paidAccountCheck)({isNeedCancelButton:!0}).catch((()=>{})))),(()=>{const e=JSON.parse(x.TVLocalStorage.getItem("password_popup_data")||"null");(0,D.isFeatureEnabled)("change_password_suggestion_popup")&&(!e?.lastTimestamp||(0,W.getCalendarDaysDiff)(new Date,new Date(e.lastTimestamp))>=2)&&(!e?.showCount||e.showCount<3)&&(x.TVLocalStorage.setItem("password_popup_data",JSON.stringify({lastTimestamp:(new Date).getTime(),showCount:e?.showCount?e.showCount+1:1})),Promise.all([n.e(75080),n.e(1283),n.e(85615),n.e(56224),n.e(59648),n.e(99408),n.e(80760),n.e(79902),n.e(30783),n.e(31481),n.e(78335),n.e(19981),n.e(65729),n.e(13647),n.e(85392),n.e(38962),n.e(72086),n.e(57736),n.e(12047),n.e(30044),n.e(42533)]).then(n.bind(n,757140)).then((({changePasswordDialog:e})=>e())))})()}else{const e=TVLocalStorage.getItem("paid_account_username");e&&Promise.resolve().then(n.bind(n,691840)).then((t=>t.showSignModal({source:"Paid Account Popup",username:e})))}e||(0,P.reconnectChartApi)()})),
(0,v.whenDocumentReady)((function(){if((0,D.isFeatureEnabled)("enable_forced_email_confirmation")&&window.is_authenticated&&window.user.social_registration&&void 0===window.user.profile_data_filled&&!window.user.has_active_email&&!(0,S.isOnMobileAppPage)("any")){if(window.location.pathname.startsWith(`/u/${window.user.username}`)||"/policies/"===window.location.pathname||"/privacy-policy/"===window.location.pathname)return;Promise.resolve().then(n.bind(n,691840)).then((e=>e.showSignModal({mode:"force-verify-email"})))}"#signin"===window.location.hash?Promise.resolve().then(n.bind(n,691840)).then((e=>e.showSignModal({source:"Redirect"}))):"#signup"===window.location.hash&&Promise.resolve().then(n.bind(n,691840)).then((e=>e.showSignModal({mode:"signup",source:"Redirect"}))),(0,y.checkPageType)("mobile")?C.cookieSettingsReady.resolve():(0,T.initCookiesNotification)().then((async()=>{const e=(0,q.placementFromPageLocation)();if(e){if((0,F.enabled)(L.ProductFeaturesEnum.NO_SPONSORED_ADS))return;let t=!0;if("ru"===window.locale){t="ru"!==(await(0,N.userGeoInfo)()).country_code}if(t){const{toastAd:t}=await Promise.all([n.e(77898),n.e(24377),n.e(8721),n.e(62031),n.e(38336)]).then(n.bind(n,488071));t.setPlacement(e.placement).addTargeting("placement",e.targeting).start()}}})),(0,D.isFeatureEnabled)("desktop_version_notification_enabled")&&(0,y.isDesktopApp)()&&I(),window.initData.show_idc_dialog&&window.TradingView.onChartPage?n.e(9726).then(n.bind(n,207799)).then((e=>{e.showIdcAgreementDialog()})):window.initData.banned_payments&&Promise.all([n.e(66814),n.e(53054),n.e(50454),n.e(38361),n.e(21507),n.e(10271),n.e(17066),n.e(63745),n.e(25977),n.e(40241),n.e(2224),n.e(57444),n.e(29201)]).then(n.bind(n,299752)).then((({warningDialog:e})=>{e({title:i.t(null,void 0,n(620748)),content:"<p>"+i.t(null,void 0,n(757833))+"</p>",closeButtonText:i.t(null,{context:"action"},n(433334))}).open()}))}),!0),window.pro=new b.Pro(window.shopConf),loginStateChange.fire(!0),Promise.all([n.e(54581),n.e(13647),n.e(38578)]).then(n.t.bind(n,233009,23)).then((({default:e})=>{e.init()})),["/widget-wizard/","/festive-recap/","/personal-yearly-recap/"].find((e=>window.location.pathname.startsWith(e)))||(0,S.isOnMobileAppPage)("any")||(0,y.onMainPage)()||(0,y.isSymphonyEmbed)()||async function(){const e=M.getBool(ee.CHRISTMAS_POPUP_STORAGE_KEY_PREFIX),t=(new Date).getFullYear()>ee.CHRISTMAS_POPUP_YEAR;window.is_authenticated&&!e&&!t&&(0,D.isFeatureEnabled)("enable_christmas_popup")&&async function(e){const{renderChristmasPopup:t}=await Promise.all([n.e(96483),n.e(56224),n.e(31697),n.e(53924),n.e(20934),n.e(65729),n.e(49129),n.e(80779),n.e(91867)]).then(n.bind(n,78643));t(e)}()}(),async function(){const e=JSON.parse(x.TVLocalStorage.getItem("must_change_password_toast")||"null");window.is_authenticated&&window.user.must_change_password&&!window.user.must_change_tfa&&(!e||(0,W.getCalendarDaysDiff)(new Date,new Date(e.lastTimestamp))>=1)&&(x.TVLocalStorage.setItem("must_change_password_toast",JSON.stringify({lastTimestamp:(new Date).getTime()})),
async function(){const{creteToast:e}=await Promise.all([n.e(17870),n.e(10727),n.e(31697),n.e(68097),n.e(62869),n.e(40061)]).then(n.bind(n,18004));e()}())}(),window.is_authenticated)user.available_offers&&user.available_offers.referral_bonus&&Promise.all([n.e(83235),n.e(1283),n.e(56224),n.e(59648),n.e(99408),n.e(78335),n.e(65729),n.e(13647),n.e(38962),n.e(72086),n.e(44133),n.e(12047),n.e(30820)]).then(n.bind(n,684354)).then((e=>e.createReferralBonusNotificationDialog()));else{let e,t={};const n=(0,H.getReferralParams)();n&&"direct_affiliate_params"===n.key?t=n.params:n&&"_referralProgramId"===n.key&&(e=n.params);const i=t.aff_id;if(i||e){const n=window.location.hostname.split("."),s=n.slice(1,n.length).join(".");if(i&&i.length<=32){(0,a.trackEvent)("Affiliate Program","Referral Visit (Direct)",i),G.PartnerAPI.addClick({target_link:t.target_link,aff_id:t.aff_id,aff_sub:t.aff_sub,aff_source:t.source,aff_unique1:t.aff_unique1,aff_sub2:t.aff_sub2,aff_sub3:t.aff_sub3,aff_click_id:t.aff_click_id,file_id:t.file_id,url_id:t.url_id}).catch((e=>te.logNormal(`Service Partner Program - request error - ${e}`)));const e=JSON.parse(Z.get("direct_affiliate_params"));e&&e.aff_id===i||Z.set("direct_affiliate_params",JSON.stringify(t),90,"/",s?`.${s}`:""),(0,H.createReferralWelcome)("partner_program")}else e&&e.length<=150&&(Z.set("_referralProgramId",e,0,"/",s?`.${s}`:""),(0,H.createReferralWelcome)("refer_a_friend"))}}if(Promise.all([n.e(2031),n.e(45275),n.e(72226)]).then(n.bind(n,727655)).then((e=>{e.openSupportDialogOnLoad()})),Promise.all([n.e(95868),n.e(13647),n.e(14309)]).then(n.bind(n,351302)).then((e=>{e.openPaymentOrderDialogOnLoad()})),Promise.all([n.e(42635),n.e(99140)]).then(n.bind(n,130179)).then((e=>{e.openCoinsDialogOnLoad()})),(0,k.init)(),window.is_authenticated||(0,R.initOneTapSignIn)(),!window.initData.offlineAlertEventsOnInit||window.TradingView.onChartPage||(0,y.checkPageType)("mobile")||(0,S.isOnMobileAppPage)("any")||Promise.all([Promise.all([n.e(83477),n.e(64585),n.e(1283),n.e(91478),n.e(10727),n.e(31697),n.e(58882),n.e(26628),n.e(94891),n.e(26630),n.e(45588),n.e(65284),n.e(73688),n.e(92161),n.e(68097),n.e(6961),n.e(91767),n.e(6195),n.e(55091),n.e(24377),n.e(8721),n.e(2139),n.e(40342),n.e(35938),n.e(96657),n.e(6534),n.e(88991),n.e(91046)]).then(n.bind(n,563845)),n.e(35844).then(n.bind(n,779672))]).then((([{tryInitAlertsNotifications:e},{toastManager:t}])=>{e(t)})),async function(){const{init:e}=await Promise.all([n.e(53270),n.e(91478),n.e(10727),n.e(31697),n.e(68097),n.e(53043),n.e(2101)]).then(n.bind(n,483679));e()}(),document.addEventListener("click",(function(e){const t=e.target,n=t?.closest("a");if(window.location.pathname.startsWith("/support")||!n?.search)return;const i=new URLSearchParams(n.search).get("solution");if(!i)return;const s=parseInt(i,10);isNaN(s)||(0,j.showSupportDialog)({solutionId:s});const r=i.match(/[a-zA-Z\_]+/g);r&&!e.defaultPrevented&&(0,U.trackSocialNetworkEvent)(r[0],U.DialogAction.OpenSolution),e.preventDefault()})),async function(){if((0,
D.isFeatureEnabled)("news_alerts_enabled")&&window.is_authenticated&&"true"===(0,M.getValue)("News.hasEnabledAlerts"))try{const{startNotifications:e}=await Promise.all([n.e(16132),n.e(63835)]).then(n.bind(n,816132));e()}catch(e){return void O.logError(`Failed to initialize news notifications ${e}`)}}(),(0,D.isFeatureEnabled)("count-browser-tabs")){const e=K.getInstance();window.addEventListener("unload",(()=>e.unregisterTab()))}(0,V.initLiveRegion)("aria-live-regions-wrapper"),(0,X.initSubscribeToGlobalEventsStorage)(),(0,E.initSnackbarContainer)()},699270:(e,t,n)=>{var i,s,r;n.d(t,{AdUnit:()=>s,Placement:()=>r,PlacementTargeting:()=>i}),function(e){e.Symbols="symbols",e.Platform="platform",e.Profile="profile",e.PublishedOpenedIdea="published opened idea",e.OpenedIdea="opened idea chart",e.HeatMap="heatmap",e.Screener="screener",e.MainPage="main page",e.NewsPage="news page",e.NewsFeed="news feed",e.NewsSymbols="news symbols",e.NewsMarkets="news markets",e.IdeasStreamFeed="ideas stream feeds",e.Screenshot="screenshot"}(i||(i={})),function(e){e.IdeasStream="ideas stream",e.Platform="platform",e.PublishedIdea="published idea",e.NewMainIdeasStream="new main ideas stream",e.News="news",e.SymbolOverview="symbol overview"}(s||(s={})),function(e){e.Symbols="symbols",e.Platform="platform",e.Profile="profile",e.OpenedIdea="opened idea",e.Feeds="feeds",e.HeatMap="heatmap",e.Screener="screener",e.MainPage="main page",e.NewsPage="news page",e.NewsFeed="news feed",e.NewsSymbols="news symbols",e.NewsMarkets="news markets",e.Screenshot="screenshot"}(r||(r={}))},214842:(e,t,n)=>{n.d(t,{createUniqIdGenerator:()=>g,isEnabled:()=>h,lazy:()=>f,placementFromPageLocation:()=>_,supportedIOSVersion:()=>m});var i=n(638456),s=n(642245),r=n(49437),o=n(314802),a=n(347402),c=n(588948),l=n(699270);const u="first_visit_time",d=3;async function h(){if((0,i.isSymphonyEmbed)()||window.user.active_broker?.plan===s.BrokerPlansIds.Platinum)return!1;if((0,o.isOnMobileAppPage)("any")&&window.is_authenticated){const e=(0,c.getFreshInitData)()?.app_installation_date;if(e&&!isNaN(e))return(Date.now()-new Date(e).getTime())/864e5>=d}let e=r.TVLocalStorage.getItem(u);e||(e=Date.now().toString(),r.TVLocalStorage.setItem(u,e));return(Date.now()-Number(e))/864e5>=d}function f(e,t){return new Promise((n=>{const i=new IntersectionObserver((t=>{for(const s of t)s.isIntersecting&&(i.unobserve(e),n())}),t);i.observe(e)}))}const p="2.66.0";function m(){if(!(0,o.isOnMobileAppPage)("old"))return!1;const e=(0,i.appVersion)();return null!==e&&!(0,a.lessThan)(e,p)}function _(){if(window.TradingView.onChartPage)return{placement:l.Placement.Platform,targeting:l.PlacementTargeting.Platform};const e=window.location.pathname;return e.startsWith("/heatmap")?{placement:l.Placement.HeatMap,targeting:l.PlacementTargeting.HeatMap}:/^\/(crypto-|forex-)?screener\//.test(e)?{placement:l.Placement.Screener,targeting:l.PlacementTargeting.Screener}:void 0}function*g(e){let t=0;for(;;)yield`div-gpt-ad-${e}-${t}`,t++}},642245:(e,t,n)=>{var i,s;n.d(t,{BrokerPlans:()=>i,BrokerPlansIds:()=>s}),
function(e){e.Platinum="platinum",e.Gold="gold",e.Silver="silver",e.Free="free"}(i||(i={})),function(e){e[e.Platinum=3]="Platinum",e[e.Gold=2]="Gold",e[e.Silver=1]="Silver",e[e.Free=0]="Free"}(s||(s={}))},516621:(e,t,n)=>{n.d(t,{CHRISTMAS_POPUP_CLOSE_EVENT:()=>r,CHRISTMAS_POPUP_STORAGE_KEY_PREFIX:()=>s,CHRISTMAS_POPUP_YEAR:()=>i});const i=2024,s=`show_christmas_banner_${i}`,r="christmas.popup.close"},308180:(e,t,n)=>{function i(e,t){return Promise.all([n.e(3153),n.e(1283),n.e(56224),n.e(65729),n.e(79768),n.e(32413),n.e(4281),n.e(58776),n.e(59426)]).then(n.bind(n,801413)).then((n=>n.showErrorDialogImpl(e,t)))}n.d(t,{showErrorDialog:()=>i})},74867:(e,t,n)=>{n.d(t,{ActionButtonsLayout:()=>r,ContentAlign:()=>s,DialogTheme:()=>o,PredefinedAction:()=>i});var i,s,r,o;n(61499);!function(e){e.Close="close",e.OpenGopro="openGopro"}(i||(i={})),function(e){e.Center="center",e.Left="left"}(s||(s={})),function(e){e.Row="row",e.Column="column"}(r||(r={})),function(e){e.Offer="offer",e.Gopro="gopro"}(o||(o={}))},17519:(e,t,n)=>{n.d(t,{PartnerAPI:()=>f,PartnerPayoutPurpose:()=>h,PartnerStatus:()=>u,PartnerType:()=>c,PayoutHistoryType:()=>d,PayoutType:()=>o,getPartnerDetails:()=>g,partnerTypeMap:()=>l});var i=n(954912);const s="/partners/details/";function r(){return window.initData.tvPartnersHost}var o,a,c;!function(e){e.Paypal="paypal",e.Wire="wire"}(o||(o={})),function(e){e.USD="usd"}(a||(a={})),function(e){e.Lifetime30="lifetime30",e.CPA="cpa",e.Other="other"}(c||(c={}));const l={0:c.Lifetime30,1:c.CPA,2:c.Other};var u,d,h,f;function p(e){return`${r()}/api/v1${e}/`}function m(e,t,n,i){let s=p(e);return t&&!n&&(s=p(`${e}/${t}`)),t&&n&&(s=p(`${e}/${t}/${n}`)),i&&(s+=`?sort=${i}`),s}async function _(e,t,n){const s={method:e,credentials:"include"};return s.headers=new Headers,s.headers.set("Content-Type","application/json"),s.headers.set("Accept","application/json"),void 0!==n&&(s.body=JSON.stringify(n)),(0,i.fetch)(t,s).then((e=>e.json())).then((e=>{if(e.error)throw new Error(e.error);return e}))}async function g(){const e={method:"GET"};return e.headers=new Headers,e.headers.set("Content-Type","application/json"),(0,i.fetch)(s).then((e=>e.json()))}!function(e){e.Pending="pending",e.Active="active",e.Rejected="rejected",e.Blocked="blocked",e.NotVerified="not_verified"}(u||(u={})),function(e){e.Pending="pending",e.Completed="completed",e.InProgress="in_progress",e.WaitingForApproval="waiting_for_approval",e.DjangoError="django_eror",e.PayoutError="payout_error"}(d||(d={})),function(e){e.Partner="partner",e.ReferAFriend="refer_a_friend"}(h||(h={})),function(e){e.isPartner=async function(){return _("GET",p("/is-partner"))},e.hold=async function(e){return(0,i.fetch)("/partners/hold/",{method:"POST",credentials:"include",body:JSON.stringify(e)})},e.unhold=async function(e){return(0,i.fetch)("/partners/unhold/",{method:"POST",credentials:"include",body:JSON.stringify(e)})},e.autoCreatePartner=async function(e){const t={partner_type:e};return(0,i.fetch)("/partners/create/",{method:"POST",credentials:"include",body:JSON.stringify(t)})},
e.createPartner=async function(e){return _("POST",p("/partner"),e)},e.updatePartner=async function(e){return _("POST",p("/update-partner"),e)},e.getStats=async function(e,t,n){return _("GET",m("/stats",e,t,n))},e.getReport=async function(e,t){return _("GET",m("/report",e,t))},e.getProductReport=async function(e,t){return _("GET",m("/products-report",e,t))},e.getReportCSV=async function(e,t){return _("GET",m("/report-csv",e,t))},e.getHistory=async function(e){return _("GET",function(e){return`${p("/history")}${e}`}(e))},e.getConversionReport=async function(e,t){return _("GET",m("/conversion-report",e,t))},e.getDetailedReport=async function(e,t){return _("GET",m("/detailed-report",e,t))},e.getSettings=async function(){return _("GET",p("/settings"))},e.postSettings=async function(e){return _("POST",p("/settings"),e)},e.addClick=async function(e){return _("POST",`${r()}/analytics/`,e)},e.postIRSForm=async function(e){const t=p("/irs-form"),n=new FormData;n.append("form",e);const s=new Headers({accept:"application/json"});return(0,i.fetch)(t,{method:"POST",credentials:"include",headers:s,body:n}).then((e=>e.json()))}}(f||(f={}))},780626:(e,t,n)=>{n.d(t,{createReferralWelcome:()=>s,getReferralParams:()=>r});var i=n(72224);function s(e){return Promise.all([n.e(49663),n.e(1283),n.e(56224),n.e(59648),n.e(99408),n.e(78335),n.e(15984),n.e(65729),n.e(13647),n.e(38962),n.e(72086),n.e(12047),n.e(36057)]).then(n.bind(n,843163)).then((t=>t.createReferralWelcomeDialog(e)))}function r(){const e=(0,i.getUrlParams)(),t=e.share_your_love,n=e.aff_id;if(n&&n.length<=32){const t={aff_id:n,target_link:`${window.location.origin}${window.location.pathname}`};return[{key:"source",maxLength:64},{key:"aff_sub",maxLength:64},{key:"url_id",maxLength:256},{key:"file_id",maxLength:256},{key:"aff_sub2",maxLength:64},{key:"aff_sub3",maxLength:64},{key:"aff_unique1",maxLength:64},{key:"aff_click_id",maxLength:64}].forEach((n=>{const i=n.key;e[i]&&e[i].length<=n.maxLength&&(t[i]=e[i])})),{key:"direct_affiliate_params",params:t}}return t&&t.length<=150?{key:"_referralProgramId",params:t}:null}},486710:(e,t,n)=>{n.d(t,{AggregateError:()=>g,ApiError:()=>_,accumulateErrors:()=>r,checkPhoneCode:()=>l,continuePartialAuth:()=>T,fetchPost:()=>o,firstLoginData:()=>a,firstLoginDataUrl:()=>s,recoverPassword:()=>b,recoverPasswordUrl:()=>w,recoveryPassword:()=>u,resendLink:()=>c,resetPassword:()=>y,signin:()=>f,signinUrl:()=>d,signup:()=>m,signupUrl:()=>p,socialAuth:()=>k});var i=n(954912);const s="/accounts/first_login_data/";function r(e,t){return Object.entries(e).map((e=>new _(e[1].join("\n"),t,e[0])))}function o(e,t){return(0,i.fetch)(e,{method:"POST",credentials:"include",mode:"same-origin",body:t})}function a(e){return o(s,e).then((e=>e.ok?e.json():e.json().then((t=>{throw new g(r(t.errors,e.status))}))))}function c(){return o("/api/v1/users/anon/change-email/resend/").then((e=>e.ok?e.json():e.json().then((e=>{throw Error(e.error)}))))}function l(e){return o("/api/v1/recover_password/check_phone_code/",e).then((e=>e.ok?e.json():e.json().then((e=>{
throw Error(e.error)}))))}function u(e){return o("/api/v1/recover_password/",e).then((e=>e))}const d="/accounts/signin/";function h(e){return e.json().then((t=>{if("errors"in t&&Object.keys(t.errors).length)throw new g(r(t.errors,e.status));if("error"in t&&""!==t.error||"code"in t||!e.ok)throw new _(t.error||t.detail,e.status,t.code,t.confirm_auth_data,t.two_factor_types,function(e){if(e.signature)return{signature:e.signature,email:e.email||"",phone:e.phone||"",socials:[]};return}(t));return t}))}function f(e){return o(d,e).then(h)}const p="/accounts/signup/";function m(e){return o(p,e).then((e=>e.json().then((t=>{if("errors"in t&&""!==t.errors)throw new g(r(t.errors,e.status))}))))}class _ extends Error{constructor(e,t,n,i,s,r){super(e),this.type=n,this.status=t,this.secondFactorTypes=s,this.socialConfirmData=i,this.resetPasswordData=r}}class g extends Error{constructor(e){super(e.map((e=>e.message)).join("\n")),this.errors=[],this.errors=e}}const w="/api/v1/recover_password/search/";function b(e){return o(w,e).then(h)}const v="/accounts/reset_password/";function y(e,t=v){return o(t,e).then((e=>400===e.status?e.json().then((t=>{if("errors"in t)throw new g(r(t.errors,e.status));throw new _(t.detail,e.status,t.code)})):h(e)))}const S="/accounts/complete/android-jwt/",P={Accept:"application/json"};function k(e,t){const n=new URL(window.origin+S);return Object.entries(t).forEach((([e,t])=>t&&n.searchParams.append(e,t))),(0,i.fetch)(n.href,{method:"POST",body:e,headers:P}).then(h)}function T(e,t){const n=new URL(window.origin+`/accounts/complete/${e}/`),s=new FormData;return s.append("partial_token",t),(0,i.fetch)(n.href,{method:"POST",body:s,headers:P}).then(h)}},660681:(e,t,n)=>{n.d(t,{SMS_BANNED_STATUS:()=>s,generateSigninChallenge:()=>r,secondFactorSignin:()=>o});var i=n(486710);const s=403;function r(e){return(0,i.fetchPost)(`/accounts/two-factor/signin/${e}/generate-challenge/`).then((e=>e.ok?e.json():e.json().then((({detail:e,code:t})=>{throw Error(e)}))))}function o(e,t){return(0,i.fetchPost)(`/accounts/two-factor/signin/${e}/`,t).then((e=>e.ok?e.json():e.json().then((t=>{if("require_parameters"===t.code)throw new i.AggregateError((0,i.accumulateErrors)(t.errors,e.status));throw new i.ApiError(t.detail,e.status,t.code)}))))}},936913:(e,t,n)=>{n.d(t,{isNewPineEditorUser:()=>s,shouldUseVerticalEditor:()=>r});var i=n(125226);n(62802);function s(){return!1}function r(){return(0,i.isFeatureEnabled)("vertical_editor")}},199010:(e,t,n)=>{n.d(t,{userGeoInfo:()=>o});var i=n(954912);const s=(0,n(735566).getLogger)("User.GeoInfo");let r;function o(){if(void 0!==r)return r;return r=(0,i.fetch)("/check_language/",{method:"POST"}).then((e=>{if(e.ok)return e.json();throw new Error(e.statusText)})).catch((e=>(s.logWarn(e.message),{}))),r}},407085:(e,t,n)=>{n.d(t,{formatCalendarDaysDiff:()=>o,getCalendarDaysDiff:()=>s});var i=n(444372);function s(e,t,n){const i=new Date(t),s=new Date(e),o=n?0:60*(r(i)-r(s))*1e3;return n?(i.setUTCHours(12,0,0,0),s.setUTCHours(12,0,0,0)):(i.setHours(12,0,0,0),s.setHours(12,0,0,0)),
(a=(s.getTime()-i.getTime()-o)/864e5)<0?Math.ceil(a):Math.floor(a);var a}function r(e){return 15*-Math.round(e.getTimezoneOffset()/15)}function o(e){if(0===e)return i.t(null,void 0,n(205935));if(1===e)return i.t(null,void 0,n(315404));if(-1===e)return i.t(null,void 0,n(943320));const t=Math.abs(e),s=i.t(null,{plural:"%d days",count:t},n(851068)).replace("%d",String(t));return e>1?i.t(null,{context:"time_range"},n(282778)).replace("%s",s):i.t(null,{context:"time_range"},n(820864)).replace("%s",s)}},72224:(e,t,n)=>{function i(e){return decodeURIComponent(e.replace(/\+/g," ")).replace(/<\/?[^>]+(>|$)/g,"")}function s(e){const t=/([^&=]+)=?([^&]*)/g,n={};if(!e)return n;let s=t.exec(e);for(;s;)n[i(s[1])]=i(s[2]),s=t.exec(e);return n}function r(){return s(window.location.search.substring(1))}function o(){return s(window.location.hash.split("#")[1])}function a(){const e=window.location.href.split("#")[0];window.history.replaceState("",document.title,e)}function c(e){const t=[];for(const n in e)e.hasOwnProperty(n)&&null!=e[n]&&t.push({key:n,pair:encodeURIComponent(n)+"="+encodeURIComponent(e[n])});return t.sort(((e,t)=>e.key>t.key?1:e.key<t.key?-1:0)).map((e=>e.pair)).join("&")}n.d(t,{createUrlParams:()=>c,getHashUrlParams:()=>o,getUrlParams:()=>r,removeHashFromUrl:()=>a})}}]);